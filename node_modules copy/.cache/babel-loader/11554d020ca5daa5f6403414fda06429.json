{"ast":null,"code":"import _defineProperty from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/SchoolPortal/Profile.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  p {\\n    font-size: 18px;\\n    font-family: Apercu;\\n    font-weight: 500;\\n    line-height: 22px;\\n    letter-spacing: 0.05em;\\n  }\\n\\n  .nodescription {\\n    margin-bottom: 10px;\\n  }\\n\\n  .description {\\n    font-size: 16px;\\n    font-family: Apercu-light;\\n    margin-bottom: 10px;\\n  }\\n\\n  .inputcontainer {\\n    display: table;\\n  }\\n\\n  .input {\\n    width: 300px;\\n    height: 40px;\\n    background: #f4f2f2;\\n    border: 0px;\\n    margin-bottom: 5px;\\n    margin-right: 10px;\\n  }\\n\\n  .buttonsymbol {\\n    line-height: 29px;\\n  }\\n\\n  .roundbutton {\\n    height: 35px;\\n    width: 35px;\\n    border: 3px solid #bd574e;\\n    border-radius: 50%;\\n    display: inline-block;\\n    background: rgba(249, 198, 195, 0.8);\\n    color: #bd574e;\\n    text-align: center;\\n    vertical-align: middle;\\n    cursor: pointer;\\n  }\\n\\n  .savechanges {\\n    background: #bd574e;\\n    color: #ffffff;\\n    font-family: Apercu;\\n    font-size: 18px;\\n    width: 170px;\\n    height: 38px;\\n    letter-spacing: 0.05em;\\n    align-items: center;\\n    margin-top: 20px;\\n  }\\n\\n  .checkmark {\\n    margin-right: 4px;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/** @jsx jsx */\nimport { Component } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport Header from 'components/Header';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect, firebaseConnect, isLoaded } from 'react-redux-firebase';\nimport Input from 'components/Input';\nimport Loading from 'components/Loading';\nimport InputList from './InputList';\nvar profileStyle = css(_templateObject());\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this, props));\n\n    _this.dictToArray = function (dict) {\n      var newArray = [];\n\n      for (var key in dict) {\n        newArray.push(dict[key]);\n      }\n\n      return newArray;\n    };\n\n    _this.addInput = function (name) {\n      // append empty string to end of array\n      _this.setState(_defineProperty({}, name, [].concat(_toConsumableArray(_this.state[name].slice()), [''])));\n    };\n\n    _this.removeInput = function (index, inputs, name) {\n      var newInputs = inputs.slice();\n      delete newInputs[index];\n\n      _this.setState(_defineProperty({}, name, _this.dictToArray(newInputs)));\n    };\n\n    _this.editInput = function (index, value, inputs, name) {\n      inputs[index] = value;\n\n      _this.setState(_defineProperty({}, name, _this.dictToArray(inputs)));\n    };\n\n    _this.assignSettings = function () {\n      var _this$props = _this.props,\n          school = _this$props.school,\n          updateSettings = _this$props.updateSettings;\n      var name = _this.state.name;\n\n      var emails = _this.state.emails.filter(function (email) {\n        return email !== '';\n      });\n\n      var dorms = _this.state.dorms.filter(function (dorm) {\n        return dorm !== '';\n      });\n\n      var updates = {};\n      updates[\"college_to_dorm.\".concat(school)] = dorms;\n      updates[\"college_to_email.\".concat(school)] = emails;\n      updates[\"names.\".concat(school)] = name;\n      updateSettings(updates);\n      alert('Config saved!');\n    };\n\n    _this.onNameInputChange = function (e) {\n      return _this.setState({\n        name: e.target.value\n      });\n    };\n\n    _this.state = {\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props2 = this.props,\n          school = _this$props2.school,\n          settings = _this$props2.settings;\n\n      if (isLoaded(settings) && this.state.loading) {\n        var college_to_dorm = settings.college_to_dorm,\n            college_to_email = settings.college_to_email,\n            names = settings.names;\n        this.setState({\n          dorms: college_to_dorm[school] || [],\n          emails: college_to_email[school] || [],\n          loading: false,\n          name: names[school] || '',\n          settings: settings\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          dorms = _this$state.dorms,\n          emails = _this$state.emails,\n          loading = _this$state.loading,\n          name = _this$state.name;\n\n      if (loading) {\n        return jsx(\"div\", {\n          style: {\n            height: 200\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, jsx(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }));\n      }\n\n      return jsx(\"div\", {\n        css: profileStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, jsx(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"SCHOOL\"), jsx(\"p\", {\n        className: \"nodescription\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Informal School Name (e.g. Harvard)\"), jsx(Input, {\n        className: \"input\",\n        handleInputChange: this.onNameInputChange,\n        placeholder: \"Name\",\n        type: \"text\",\n        value: name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }), jsx(\"p\", {\n        className: \"nodescription\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Valid Email Suffix\"), jsx(InputList, {\n        addInput: this.addInput,\n        editInput: this.editInput,\n        inputs: emails,\n        name: \"emails\",\n        removeInput: this.removeInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }), jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"Dorms\"), jsx(\"div\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Add your dorm names here!\"), jsx(InputList, {\n        addInput: this.addInput,\n        editInput: this.editInput,\n        inputs: dorms,\n        name: \"dorms\",\n        removeInput: this.removeInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), jsx(\"button\", {\n        className: \"savechanges\",\n        onClick: this.assignSettings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, jsx(\"i\", {\n        className: \"fas fa-check checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), \"Save Changes\"));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    settings: state.firestore.data.config,\n    updateSettings: function updateSettings(settings) {\n      props.firestore.update({\n        collection: 'settings',\n        doc: 'config'\n      }, settings);\n    }\n  };\n};\n\nexport default compose(firebaseConnect(), firestoreConnect(function () {\n  return [{\n    collection: 'settings',\n    doc: 'config',\n    storeAs: 'config'\n  }];\n}), connect(mapStateToProps))(Profile);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/SchoolPortal/Profile.js"],"names":["Component","jsx","css","Header","connect","compose","firestoreConnect","firebaseConnect","isLoaded","Input","Loading","InputList","profileStyle","Profile","props","dictToArray","dict","newArray","key","push","addInput","name","setState","state","slice","removeInput","index","inputs","newInputs","editInput","value","assignSettings","school","updateSettings","emails","filter","email","dorms","dorm","updates","alert","onNameInputChange","e","target","loading","settings","college_to_dorm","college_to_email","names","height","mapStateToProps","firestore","data","config","update","collection","doc","storeAs"],"mappings":"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","sourcesContent":["/** @jsx jsx */\n\nimport { Component } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport Header from 'components/Header';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport {\n  firestoreConnect,\n  firebaseConnect,\n  isLoaded,\n} from 'react-redux-firebase';\n\nimport Input from 'components/Input';\nimport Loading from 'components/Loading';\nimport InputList from './InputList';\n\nconst profileStyle = css`\n  p {\n    font-size: 18px;\n    font-family: Apercu;\n    font-weight: 500;\n    line-height: 22px;\n    letter-spacing: 0.05em;\n  }\n\n  .nodescription {\n    margin-bottom: 10px;\n  }\n\n  .description {\n    font-size: 16px;\n    font-family: Apercu-light;\n    margin-bottom: 10px;\n  }\n\n  .inputcontainer {\n    display: table;\n  }\n\n  .input {\n    width: 300px;\n    height: 40px;\n    background: #f4f2f2;\n    border: 0px;\n    margin-bottom: 5px;\n    margin-right: 10px;\n  }\n\n  .buttonsymbol {\n    line-height: 29px;\n  }\n\n  .roundbutton {\n    height: 35px;\n    width: 35px;\n    border: 3px solid #bd574e;\n    border-radius: 50%;\n    display: inline-block;\n    background: rgba(249, 198, 195, 0.8);\n    color: #bd574e;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n  }\n\n  .savechanges {\n    background: #bd574e;\n    color: #ffffff;\n    font-family: Apercu;\n    font-size: 18px;\n    width: 170px;\n    height: 38px;\n    letter-spacing: 0.05em;\n    align-items: center;\n    margin-top: 20px;\n  }\n\n  .checkmark {\n    margin-right: 4px;\n  }\n`;\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: true };\n  }\n\n  componentDidUpdate() {\n    const { school, settings } = this.props;\n\n    if (isLoaded(settings) && this.state.loading) {\n      const { college_to_dorm, college_to_email, names } = settings;\n\n      this.setState({\n        dorms: college_to_dorm[school] || [],\n        emails: college_to_email[school] || [],\n        loading: false,\n        name: names[school] || '',\n        settings,\n      });\n    }\n  }\n\n  dictToArray = dict => {\n    let newArray = [];\n    for (var key in dict) {\n      newArray.push(dict[key]);\n    }\n    return newArray;\n  };\n\n  addInput = name => {\n    // append empty string to end of array\n    this.setState({ [name]: [...this.state[name].slice(), ''] });\n  };\n\n  removeInput = (index, inputs, name) => {\n    const newInputs = inputs.slice();\n    delete newInputs[index];\n    this.setState({ [name]: this.dictToArray(newInputs) });\n  };\n\n  editInput = (index, value, inputs, name) => {\n    inputs[index] = value;\n    this.setState({ [name]: this.dictToArray(inputs) });\n  };\n\n  assignSettings = () => {\n    const { school, updateSettings } = this.props;\n    const { name } = this.state;\n\n    const emails = this.state.emails.filter(email => {\n      return email !== '';\n    });\n\n    const dorms = this.state.dorms.filter(dorm => {\n      return dorm !== '';\n    });\n\n    let updates = {};\n    updates[`college_to_dorm.${school}`] = dorms;\n    updates[`college_to_email.${school}`] = emails;\n    updates[`names.${school}`] = name;\n\n    updateSettings(updates);\n    alert('Config saved!');\n  };\n\n  onNameInputChange = e => this.setState({ name: e.target.value });\n\n  render() {\n    const { dorms, emails, loading, name } = this.state;\n\n    if (loading) {\n      return (\n        <div style={{ height: 200 }}>\n          <Loading />\n        </div>\n      );\n    }\n\n    return (\n      <div css={profileStyle}>\n        <Header>SCHOOL</Header>\n        <p className=\"nodescription\">Informal School Name (e.g. Harvard)</p>\n        <Input\n          className=\"input\"\n          handleInputChange={this.onNameInputChange}\n          placeholder=\"Name\"\n          type=\"text\"\n          value={name}\n        />\n\n        <br />\n\n        <p className=\"nodescription\">Valid Email Suffix</p>\n        <InputList\n          addInput={this.addInput}\n          editInput={this.editInput}\n          inputs={emails}\n          name=\"emails\"\n          removeInput={this.removeInput}\n        />\n\n        <br />\n\n        <p>Dorms</p>\n        <div className=\"description\">Add your dorm names here!</div>\n        <InputList\n          addInput={this.addInput}\n          editInput={this.editInput}\n          inputs={dorms}\n          name=\"dorms\"\n          removeInput={this.removeInput}\n        />\n\n        <button className=\"savechanges\" onClick={this.assignSettings}>\n          <i className=\"fas fa-check checkmark\"></i>Save Changes\n        </button>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    settings: state.firestore.data.config,\n    updateSettings: settings => {\n      props.firestore.update(\n        {\n          collection: 'settings',\n          doc: 'config',\n        },\n        settings,\n      );\n    },\n  };\n};\n\nexport default compose(\n  firebaseConnect(),\n  firestoreConnect(() => [\n    {\n      collection: 'settings',\n      doc: 'config',\n      storeAs: 'config',\n    },\n  ]),\n  connect(mapStateToProps),\n)(Profile);\n"]},"metadata":{},"sourceType":"module"}