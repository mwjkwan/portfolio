{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/components/PicUpload/layout.js\";\nimport React, { Component } from 'react';\nimport Loading from 'components/Loading';\n\nvar Layout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Layout, _Component);\n\n  function Layout(props) {\n    var _this;\n\n    _classCallCheck(this, Layout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Layout).call(this, props));\n    _this.file = React.createRef();\n    _this.state = {\n      pic: _this.props.profile_pic,\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(Layout, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"PicUpload\",\n        style: {\n          position: 'relative',\n          display: 'inline-block',\n          height: 200,\n          width: 200,\n          background: '#9b9b9b'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        accept: \"image/*\",\n        ref: this.file,\n        type: \"file\",\n        style: {\n          display: 'none'\n        },\n        onChange: function onChange(e) {\n          _this2.setState({\n            loading: true\n          });\n\n          var obj = _this2;\n\n          _this2.props.uploadFile('/profile_pics', e.target.files[0], '/profile_pics', {\n            name: _this2.props.email + '.jpg'\n          }).then(function (value) {\n            obj.props.updateProfile({\n              profile_pic: value.downloadURL\n            });\n            obj.setState({\n              loading: false,\n              pic: value.downloadURL\n            });\n          }).catch(function (error) {\n            alert(error);\n            obj.setState({\n              loading: false\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }), !this.state.loading ? // eslint-disable-next-line jsx-a11y/alt-text\n      React.createElement(\"img\", {\n        style: {\n          width: 200,\n          height: 200,\n          objectFit: 'cover'\n        },\n        src: this.state.pic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        style: {\n          height: 200,\n          width: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Loading, {\n        type: \"spin\",\n        style: {\n          height: 200,\n          width: 200,\n          marginTop: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"imagehover\",\n        style: {\n          position: 'absolute',\n          top: 0,\n          width: 200,\n          height: 200,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          opacity: this.state.pic ? null : 0.7,\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, !this.state.loading && React.createElement(\"i\", {\n        className: \"fas fa-camera\",\n        style: {\n          fontSize: 40,\n          opacity: 0.7,\n          cursor: 'pointer',\n          color: '#3b3b3b'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Layout;\n}(Component);\n\nexport { Layout as default };","map":{"version":3,"sources":["/Users/melissa/datamatch/src/components/PicUpload/layout.js"],"names":["React","Component","Loading","Layout","props","file","createRef","state","pic","profile_pic","loading","position","display","height","width","background","e","setState","obj","uploadFile","target","files","name","email","then","value","updateProfile","downloadURL","catch","error","alert","objectFit","marginTop","top","alignItems","justifyContent","opacity","cursor","fontSize","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Loading from 'components/Loading';\n\nexport default class Layout extends Component {\n  constructor(props) {\n    super(props);\n    this.file = React.createRef();\n    this.state = { pic: this.props.profile_pic, loading: false };\n  }\n\n  render() {\n    return (\n      <div\n        className=\"PicUpload\"\n        style={{\n          position: 'relative',\n          display: 'inline-block',\n          height: 200,\n          width: 200,\n          background: '#9b9b9b',\n        }}\n      >\n        <label>\n          <input\n            accept=\"image/*\"\n            ref={this.file}\n            type=\"file\"\n            style={{ display: 'none' }}\n            onChange={e => {\n              this.setState({ loading: true });\n              const obj = this;\n              this.props\n                .uploadFile(\n                  '/profile_pics',\n                  e.target.files[0],\n                  '/profile_pics',\n                  {\n                    name: this.props.email + '.jpg',\n                  },\n                )\n                .then(function(value) {\n                  obj.props.updateProfile({ profile_pic: value.downloadURL });\n                  obj.setState({ loading: false, pic: value.downloadURL });\n                })\n                .catch(error => {\n                  alert(error);\n                  obj.setState({ loading: false });\n                });\n            }}\n          />\n          {!this.state.loading ? (\n            // eslint-disable-next-line jsx-a11y/alt-text\n            <img\n              style={{\n                width: 200,\n                height: 200,\n                objectFit: 'cover',\n              }}\n              src={this.state.pic}\n            />\n          ) : (\n            <div\n              style={{\n                height: 200,\n                width: 200,\n              }}\n            >\n              <Loading\n                type=\"spin\"\n                style={{ height: 200, width: 200, marginTop: 15 }}\n              />\n            </div>\n          )}\n          <div\n            className=\"imagehover\"\n            style={{\n              position: 'absolute',\n              top: 0,\n              width: 200,\n              height: 200,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              opacity: this.state.pic ? null : 0.7,\n              cursor: 'pointer',\n            }}\n          >\n            {!this.state.loading && (\n              <i\n                className=\"fas fa-camera\"\n                style={{\n                  fontSize: 40,\n                  opacity: 0.7,\n                  cursor: 'pointer',\n                  color: '#3b3b3b',\n                }}\n              ></i>\n            )}\n          </div>\n        </label>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}