{"ast":null,"code":"import _regeneratorRuntime from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageResults/index.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport { Route, Switch } from 'react-router-dom';\nimport Loading from 'components/Loading';\nimport PageList from './routes/PageList';\nimport PageMatch from './routes/PageMatch';\nimport './styles.scss';\n\nvar PageResults =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageResults, _Component);\n\n  function PageResults(props) {\n    var _this;\n\n    _classCallCheck(this, PageResults);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageResults).call(this, props));\n    _this.state = {\n      loading: true,\n      matches: {}\n    };\n    return _this;\n  }\n\n  _createClass(PageResults, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _ref, data;\n\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(this.props.firebase.functions().httpsCallable('match-getMatches')());\n\n            case 2:\n              _ref = _context.sent;\n              data = _ref.data;\n              this.setState({\n                loading: false,\n                matches: data\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.loading) {\n        return React.createElement(\"div\", {\n          style: {\n            height: 200\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }));\n      }\n\n      var matches = this.state.matches;\n      return React.createElement(\"div\", {\n        className: \"PageResults\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/app/results\",\n        render: function render() {\n          return React.createElement(PageList, Object.assign({\n            matches: matches\n          }, _this2.props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/app/results/:match\",\n        render: function render(props) {\n          return React.createElement(PageMatch, {\n            match: props.match.params.match,\n            matches: matches,\n            uid: _this2.props.uid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PageResults;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, _props) {\n  return {\n    uid: state.firebase.auth.uid\n  };\n};\n\nexport default compose(withRouter, firebaseConnect(), connect(mapStateToProps))(PageResults);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageResults/index.js"],"names":["React","Component","withRouter","connect","compose","firebaseConnect","Route","Switch","Loading","PageList","PageMatch","PageResults","props","state","loading","matches","firebase","functions","httpsCallable","data","setState","height","match","params","uid","mapStateToProps","_props","auth"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kBAA9B;AAEA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAO,eAAP;;IAEMC,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAAEC,MAAAA,OAAO,EAAE,IAAX;AAAiBC,MAAAA,OAAO,EAAE;AAA1B,KAAb;AAFiB;AAGlB;;;;;;;;;;;;+CAGwB,KAAKH,KAAL,CAAWI,QAAX,CACpBC,SADoB,GAEpBC,aAFoB,CAEN,kBAFM,G;;;;AAAfC,cAAAA,I,QAAAA,I;AAGR,mBAAKC,QAAL,CAAc;AAAEN,gBAAAA,OAAO,EAAE,KAAX;AAAkBC,gBAAAA,OAAO,EAAEI;AAA3B,eAAd;;;;;;;;;;;6BAGO;AAAA;;AACP,UAAI,KAAKN,KAAL,CAAWC,OAAf,EAAwB;AACtB,eACE;AAAK,UAAA,KAAK,EAAE;AAAEO,YAAAA,MAAM,EAAE;AAAV,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAKD;;AAPM,UASCN,OATD,GASa,KAAKF,KATlB,CASCE,OATD;AAWP,aACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,KAAK,MADP;AAEE,QAAA,IAAI,EAAC,cAFP;AAGE,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,QAAD;AAAU,YAAA,OAAO,EAAEA;AAAnB,aAAgC,MAAI,CAACH,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAN;AAAA,SAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAME,oBAAC,KAAD;AACE,QAAA,KAAK,MADP;AAEE,QAAA,IAAI,EAAC,qBAFP;AAGE,QAAA,MAAM,EAAE,gBAAAA,KAAK;AAAA,iBACX,oBAAC,SAAD;AACE,YAAA,KAAK,EAAEA,KAAK,CAACU,KAAN,CAAYC,MAAZ,CAAmBD,KAD5B;AAEE,YAAA,OAAO,EAAEP,OAFX;AAGE,YAAA,GAAG,EAAE,MAAI,CAACH,KAAL,CAAWY,GAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADW;AAAA,SAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF,CADF;AAsBD;;;;EA9CuBvB,S;;AAiD1B,IAAMwB,eAAe,GAAG,SAAlBA,eAAkB,CAACZ,KAAD,EAAQa,MAAR,EAAmB;AACzC,SAAO;AACLF,IAAAA,GAAG,EAAEX,KAAK,CAACG,QAAN,CAAeW,IAAf,CAAoBH;AADpB,GAAP;AAGD,CAJD;;AAMA,eAAepB,OAAO,CACpBF,UADoB,EAEpBG,eAAe,EAFK,EAGpBF,OAAO,CAACsB,eAAD,CAHa,CAAP,CAIbd,WAJa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Loading from 'components/Loading';\nimport PageList from './routes/PageList';\nimport PageMatch from './routes/PageMatch';\nimport './styles.scss';\n\nclass PageResults extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: true, matches: {} };\n  }\n\n  async componentDidMount() {\n    const { data } = await this.props.firebase\n      .functions()\n      .httpsCallable('match-getMatches')();\n    this.setState({ loading: false, matches: data });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div style={{ height: 200 }}>\n          <Loading />\n        </div>\n      );\n    }\n\n    const { matches } = this.state;\n\n    return (\n      <div className=\"PageResults\">\n        <Switch>\n          <Route\n            exact\n            path=\"/app/results\"\n            render={() => <PageList matches={matches} {...this.props} />}\n          />\n          <Route\n            exact\n            path=\"/app/results/:match\"\n            render={props => (\n              <PageMatch\n                match={props.match.params.match}\n                matches={matches}\n                uid={this.props.uid}\n              />\n            )}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, _props) => {\n  return {\n    uid: state.firebase.auth.uid,\n  };\n};\n\nexport default compose(\n  withRouter,\n  firebaseConnect(),\n  connect(mapStateToProps),\n)(PageResults);\n"]},"metadata":{},"sourceType":"module"}