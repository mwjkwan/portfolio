{"ast":null,"code":"import _defineProperty from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageAdmin/routes/PageAdminConfig.js\";\nimport React, { Component } from 'react';\nimport { deepCompare } from 'utils/helpers';\nimport Input from '../components/Input';\n\nvar PageAdminConfig =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageAdminConfig, _Component);\n\n  function PageAdminConfig() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PageAdminConfig);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PageAdminConfig)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      settings: _this.props.settings,\n      propSettings: _this.props.settings,\n      college: '',\n      email: ''\n    };\n    return _this;\n  }\n\n  _createClass(PageAdminConfig, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var equal = deepCompare(this.state.settings, this.props.settings);\n\n      var colleges = _toConsumableArray(this.state.settings.colleges);\n\n      return React.createElement(\"div\", {\n        className: \"PageAdminConfig\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"Colleges\"), colleges.map(function (college) {\n        return React.createElement(\"div\", {\n          key: college,\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, college), React.createElement(\"button\", {\n          style: {\n            width: 40,\n            background: 'white',\n            color: 'black'\n          },\n          onClick: function onClick() {\n            _this2.setState(_objectSpread({}, _this2.state, {\n              settings: _objectSpread({}, _this2.state.settings, {\n                colleges: colleges.filter(function (item) {\n                  return item !== college;\n                })\n              })\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"X\"));\n      }), React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          event.preventDefault();\n\n          if (_this2.state.college.length > 0) {\n            _this2.setState(_objectSpread({}, _this2.state, {\n              college: '',\n              settings: _objectSpread({}, _this2.state.settings, {\n                colleges: [].concat(_toConsumableArray(colleges), [_this2.state.college])\n              })\n            }));\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter a college\",\n        value: this.state.college,\n        onChange: function onChange(event) {\n          return _this2.setState({\n            college: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"add college\")))), React.createElement(\"div\", {\n        className: \"Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Email to College\"), Object.keys(this.state.settings.email_to_college).map(function (email) {\n        var college = _this2.state.settings.email_to_college[email];\n\n        var email_to_college = _objectSpread({}, _this2.state.settings.email_to_college);\n\n        return React.createElement(\"div\", {\n          key: email,\n          style: {\n            marginBottom: 15\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, email), React.createElement(\"button\", {\n          style: {\n            width: 40,\n            background: 'white',\n            color: 'black'\n          },\n          onClick: function onClick() {\n            delete email_to_college[email];\n\n            _this2.setState(_objectSpread({}, _this2.state, {\n              settings: _objectSpread({}, _this2.state.settings, {\n                email_to_college: _objectSpread({}, email_to_college)\n              })\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, \"X\")), React.createElement(\"select\", {\n          value: college || null,\n          onChange: function onChange(event) {\n            _this2.setState({\n              settings: _objectSpread({}, _this2.state.settings, {\n                email_to_college: _objectSpread({}, _this2.state.settings.email_to_college, _defineProperty({}, email, event.target.value))\n              })\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, [].concat(_toConsumableArray(_this2.state.settings.colleges), [null]).map(function (college) {\n          return React.createElement(\"option\", {\n            key: college,\n            value: college,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, college);\n        })));\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          event.preventDefault();\n\n          if (_this2.state.email.length > 1) {\n            _this2.setState(_objectSpread({}, _this2.state, {\n              email: '',\n              settings: _objectSpread({}, _this2.state.settings, {\n                email_to_college: _objectSpread({}, _this2.state.settings.email_to_college, _defineProperty({}, _this2.state.email, colleges[0]))\n              })\n            }));\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter an email type\",\n        value: this.state.email,\n        onChange: function onChange(event) {\n          return _this2.setState({\n            email: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"add email\")))), React.createElement(\"div\", {\n        className: \"Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"College Dorms\"), this.state.settings.colleges.map(function (college) {\n        var dorms = _this2.state.settings.college_to_dorm[college];\n        return React.createElement(\"div\", {\n          key: college,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, college), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, dorms && dorms.map(function (dorm) {\n          return React.createElement(\"div\", {\n            key: dorm,\n            style: {\n              display: 'inline-block',\n              padding: 5,\n              background: 'grey',\n              margin: 5\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            style: {\n              display: 'inline-block'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213\n            },\n            __self: this\n          }, dorm), React.createElement(\"button\", {\n            style: {\n              width: 30,\n              height: 30,\n              background: 'grey',\n              color: 'black',\n              display: 'inline-block'\n            },\n            onClick: function onClick() {\n              _this2.setState(_objectSpread({}, _this2.state, {\n                settings: _objectSpread({}, _this2.state.settings, {\n                  college_to_dorm: _objectSpread({}, _this2.state.settings.college_to_dorm, _defineProperty({}, college, dorms.filter(function (item) {\n                    return item !== dorm;\n                  })))\n                })\n              }));\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          }, \"X\"));\n        })), React.createElement(Input, {\n          placeholder: 'Enter a dorm',\n          button: 'add dorm',\n          onSubmit: function onSubmit(text) {\n            _this2.setState(_objectSpread({}, _this2.state, {\n              settings: _objectSpread({}, _this2.state.settings, {\n                college_to_dorm: _objectSpread({}, _this2.state.settings.college_to_dorm, _defineProperty({}, college, [].concat(_toConsumableArray(_this2.state.settings.college_to_dorm[college]), [text])))\n              })\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }));\n      })), React.createElement(\"div\", {\n        className: \"Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Which Survey for College\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), this.state.settings.colleges.map(function (college) {\n        var survey = _this2.state.settings.college_to_survey[college];\n        return React.createElement(\"div\", {\n          className: \"Box\",\n          key: college,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, college), React.createElement(\"select\", {\n          value: survey || null,\n          onChange: function onChange(event) {\n            _this2.setState({\n              settings: _objectSpread({}, _this2.state.settings, {\n                college_to_survey: _objectSpread({}, _this2.state.settings.college_to_survey, _defineProperty({}, college, event.target.value))\n              })\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, Object.keys(_this2.props.surveys).map(function (survey_key) {\n          if (_this2.props.surveys[survey_key] !== null) {\n            return React.createElement(\"option\", {\n              key: survey_key,\n              value: survey_key,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 294\n              },\n              __self: this\n            }, _this2.props.surveys[survey_key].name);\n          }\n\n          return null;\n        }), React.createElement(\"option\", {\n          key: 'none',\n          value: null,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        }, null)));\n      })), React.createElement(\"div\", {\n        className: \"Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, \"Status by College\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }), this.state.settings.colleges.map(function (college) {\n        var status = _this2.state.settings.status[college] || 'NONE';\n        return React.createElement(\"div\", {\n          className: \"Box\",\n          key: college,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        }, college), React.createElement(\"select\", {\n          value: status || null,\n          onChange: function onChange(event) {\n            _this2.setState({\n              settings: _objectSpread({}, _this2.state.settings, {\n                status: _objectSpread({}, _this2.state.settings.status, _defineProperty({}, college, event.target.value))\n              })\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }, _this2.state.settings.status_types.map(function (status_type) {\n          return React.createElement(\"option\", {\n            key: status_type,\n            value: status_type,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 334\n            },\n            __self: this\n          }, status_type === 'NONE' ? '' : status_type);\n        })));\n      })), React.createElement(\"button\", {\n        onClick: function onClick() {\n          _this2.props.updateSettings(_this2.state.settings);\n\n          alert('Settings Updated');\n        },\n        style: {\n          opacity: !equal ? 1 : 0.7,\n          pointerEvents: !equal ? 'auto' : 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"update settings\"));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var equal = deepCompare(state.propSettings, props.settings);\n\n      if (!equal) {\n        return _objectSpread({}, state, {\n          propSettings: props.settings,\n          settings: props.settings\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return PageAdminConfig;\n}(Component);\n\nexport { PageAdminConfig as default };","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageAdmin/routes/PageAdminConfig.js"],"names":["React","Component","deepCompare","Input","PageAdminConfig","state","settings","props","propSettings","college","email","equal","colleges","map","display","justifyContent","alignItems","width","background","color","setState","filter","item","event","preventDefault","length","target","value","Object","keys","email_to_college","marginBottom","dorms","college_to_dorm","dorm","padding","margin","height","text","survey","college_to_survey","surveys","survey_key","name","status","status_types","status_type","updateSettings","alert","opacity","pointerEvents"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { deepCompare } from 'utils/helpers';\nimport Input from '../components/Input';\n\nexport default class PageAdminConfig extends Component {\n  state = {\n    settings: this.props.settings,\n    propSettings: this.props.settings,\n    college: '',\n    email: '',\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    let equal = deepCompare(state.propSettings, props.settings);\n\n    if (!equal) {\n      return {\n        ...state,\n        propSettings: props.settings,\n        settings: props.settings,\n      };\n    }\n    return null;\n  }\n\n  render() {\n    var equal = deepCompare(this.state.settings, this.props.settings);\n    let colleges = [...this.state.settings.colleges];\n    return (\n      <div className=\"PageAdminConfig\">\n        <div className=\"Box\">\n          <h3>Colleges</h3>\n          {colleges.map(college => {\n            return (\n              <div\n                key={college}\n                style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                }}\n              >\n                <h5>{college}</h5>\n                <button\n                  style={{ width: 40, background: 'white', color: 'black' }}\n                  onClick={() => {\n                    this.setState({\n                      ...this.state,\n                      settings: {\n                        ...this.state.settings,\n                        colleges: colleges.filter(item => item !== college),\n                      },\n                    });\n                  }}\n                >\n                  X\n                </button>\n              </div>\n            );\n          })}\n          <form\n            onSubmit={event => {\n              event.preventDefault();\n              if (this.state.college.length > 0) {\n                this.setState({\n                  ...this.state,\n                  college: '',\n                  settings: {\n                    ...this.state.settings,\n                    colleges: [...colleges, this.state.college],\n                  },\n                });\n              }\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n              }}\n            >\n              <input\n                type=\"text\"\n                placeholder=\"Enter a college\"\n                value={this.state.college}\n                onChange={event =>\n                  this.setState({ college: event.target.value })\n                }\n              />\n              <button>add college</button>\n            </div>\n          </form>\n        </div>\n\n        <div className=\"Box\">\n          <h3>Email to College</h3>\n          {Object.keys(this.state.settings.email_to_college).map(email => {\n            let college = this.state.settings.email_to_college[email];\n            let email_to_college = { ...this.state.settings.email_to_college };\n\n            return (\n              <div key={email} style={{ marginBottom: 15 }}>\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                  }}\n                >\n                  <div>{email}</div>\n                  <button\n                    style={{ width: 40, background: 'white', color: 'black' }}\n                    onClick={() => {\n                      delete email_to_college[email];\n                      this.setState({\n                        ...this.state,\n                        settings: {\n                          ...this.state.settings,\n                          email_to_college: {\n                            ...email_to_college,\n                          },\n                        },\n                      });\n                    }}\n                  >\n                    X\n                  </button>\n                </div>\n                <select\n                  value={college || null}\n                  onChange={event => {\n                    this.setState({\n                      settings: {\n                        ...this.state.settings,\n                        email_to_college: {\n                          ...this.state.settings.email_to_college,\n                          [email]: event.target.value,\n                        },\n                      },\n                    });\n                  }}\n                >\n                  {[...this.state.settings.colleges, null].map(college => {\n                    return (\n                      <option key={college} value={college}>\n                        {college}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            );\n          })}\n          <br />\n          <br />\n          <form\n            onSubmit={event => {\n              event.preventDefault();\n              if (this.state.email.length > 1) {\n                this.setState({\n                  ...this.state,\n                  email: '',\n                  settings: {\n                    ...this.state.settings,\n                    email_to_college: {\n                      ...this.state.settings.email_to_college,\n                      [this.state.email]: colleges[0],\n                    },\n                  },\n                });\n              }\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n              }}\n            >\n              <input\n                type=\"text\"\n                placeholder=\"Enter an email type\"\n                value={this.state.email}\n                onChange={event => this.setState({ email: event.target.value })}\n              />\n              <button>add email</button>\n            </div>\n          </form>\n        </div>\n\n        <div className=\"Box\">\n          <h3>College Dorms</h3>\n          {this.state.settings.colleges.map(college => {\n            let dorms = this.state.settings.college_to_dorm[college];\n            return (\n              <div key={college}>\n                <h4>{college}</h4>\n                <div>\n                  {dorms &&\n                    dorms.map(dorm => {\n                      return (\n                        <div\n                          key={dorm}\n                          style={{\n                            display: 'inline-block',\n                            padding: 5,\n                            background: 'grey',\n                            margin: 5,\n                          }}\n                        >\n                          <div style={{ display: 'inline-block' }}>{dorm}</div>\n                          <button\n                            style={{\n                              width: 30,\n                              height: 30,\n                              background: 'grey',\n                              color: 'black',\n                              display: 'inline-block',\n                            }}\n                            onClick={() => {\n                              this.setState({\n                                ...this.state,\n                                settings: {\n                                  ...this.state.settings,\n                                  college_to_dorm: {\n                                    ...this.state.settings.college_to_dorm,\n                                    [college]: dorms.filter(\n                                      item => item !== dorm,\n                                    ),\n                                  },\n                                },\n                              });\n                            }}\n                          >\n                            X\n                          </button>\n                        </div>\n                      );\n                    })}\n                </div>\n                <Input\n                  placeholder={'Enter a dorm'}\n                  button={'add dorm'}\n                  onSubmit={text => {\n                    this.setState({\n                      ...this.state,\n                      settings: {\n                        ...this.state.settings,\n                        college_to_dorm: {\n                          ...this.state.settings.college_to_dorm,\n                          [college]: [\n                            ...this.state.settings.college_to_dorm[college],\n                            text,\n                          ],\n                        },\n                      },\n                    });\n                  }}\n                />\n                <br />\n              </div>\n            );\n          })}\n        </div>\n\n        <div className=\"Box\">\n          <h3>Which Survey for College</h3>\n          <br />\n          {this.state.settings.colleges.map(college => {\n            let survey = this.state.settings.college_to_survey[college];\n\n            return (\n              <div className=\"Box\" key={college}>\n                <h4>{college}</h4>\n                <select\n                  value={survey || null}\n                  onChange={event => {\n                    this.setState({\n                      settings: {\n                        ...this.state.settings,\n                        college_to_survey: {\n                          ...this.state.settings.college_to_survey,\n                          [college]: event.target.value,\n                        },\n                      },\n                    });\n                  }}\n                >\n                  {Object.keys(this.props.surveys).map(survey_key => {\n                    if (this.props.surveys[survey_key] !== null) {\n                      return (\n                        <option key={survey_key} value={survey_key}>\n                          {this.props.surveys[survey_key].name}\n                        </option>\n                      );\n                    }\n                    return null;\n                  })}\n                  <option key={'none'} value={null}>\n                    {null}\n                  </option>\n                </select>\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"Box\">\n          <h3>Status by College</h3>\n          <br />\n          {this.state.settings.colleges.map(college => {\n            let status = this.state.settings.status[college] || 'NONE';\n\n            return (\n              <div className=\"Box\" key={college}>\n                <h4>{college}</h4>\n                <select\n                  value={status || null}\n                  onChange={event => {\n                    this.setState({\n                      settings: {\n                        ...this.state.settings,\n                        status: {\n                          ...this.state.settings.status,\n                          [college]: event.target.value,\n                        },\n                      },\n                    });\n                  }}\n                >\n                  {this.state.settings.status_types.map(status_type => {\n                    return (\n                      <option key={status_type} value={status_type}>\n                        {status_type === 'NONE' ? '' : status_type}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            );\n          })}\n        </div>\n        <button\n          onClick={() => {\n            this.props.updateSettings(this.state.settings);\n            alert('Settings Updated');\n          }}\n          style={{\n            opacity: !equal ? 1 : 0.7,\n            pointerEvents: !equal ? 'auto' : 'none',\n          }}\n        >\n          update settings\n        </button>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}