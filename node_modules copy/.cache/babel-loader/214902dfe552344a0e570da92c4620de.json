{"ast":null,"code":"import _slicedToArray from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageResults/routes/PageList.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  .info {\\n    width: calc(100% - 140px);\\n    margin: 0px 0px 0px 20px;\\n    word-wrap: break-word;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n\\n    button {\\n      width: 190px;\\n      height: 25px;\\n      padding: 2px;\\n      font-family: 'Apercu';\\n      font-size: 14px;\\n      letter-spacing: 0.145em;\\n      text-decoration-line: underline;\\n    }\\n\\n    #match {\\n      width: 70px;\\n    }\\n\\n    #see-match {\\n      width: 105px;\\n    }\\n  }\\n\\n  .basics {\\n    padding-bottom: 2px;\\n    font-family: 'Inconsolata';\\n    font-style: medium;\\n    font-weight: 500;\\n    font-size: 15px;\\n    line-height: 17px;\\n    color: #bd574e;\\n  }\\n\\n  .name {\\n    font-family: 'Apercu';\\n    font-size: 24px;\\n    line-height: 29px;\\n  }\\n\\n  .description {\\n    display: inline-block;\\n    padding-bottom: 8px;\\n    line-height: 19px;\\n  }\\n\\n  #search {\\n    margin-top: 10px;\\n    width: 418px;\\n    height: 40px;\\n    border: none;\\n    background: #f4f2f2;\\n    display: flex;\\n    align-items: center;\\n    letter-spacing: 0.05em;\\n    color: #757575;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/** @jsx jsx **/\nimport { Component } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport { isEmpty } from 'react-redux-firebase';\nimport { Link } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport Header from 'components/Header';\nimport Loading from 'components/Loading';\nimport MatchView from 'components/MatchView';\nimport RightSidebar from './RightSidebar';\nimport MatchSidebar from './MatchSidebar';\nvar pageListStyle = css(_templateObject());\n\nvar PageList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageList, _Component);\n\n  function PageList(props) {\n    var _this;\n\n    _classCallCheck(this, PageList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageList).call(this, props));\n\n    _this.handleKeyPress = function _callee(event) {\n      var search, name, first, last, _ref, data;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              search = _this.state.search;\n\n              if (!(event.key === 'Enter' && search)) {\n                _context.next = 11;\n                break;\n              }\n\n              _this.setState({\n                searching: true,\n                loadingSearch: true\n              });\n\n              name = search.trim().toLowerCase().split(' ');\n              first = name[0];\n              last = name.length > 1 ? name[name.length - 1] : '';\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(_this.props.firebase.functions().httpsCallable('user-userSearch')({\n                first: first,\n                last: last\n              }));\n\n            case 8:\n              _ref = _context.sent;\n              data = _ref.data;\n\n              _this.setState({\n                searches: data,\n                loadingSearch: false\n              });\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var eventValue = event.target.value;\n      var value = eventValue.trim();\n\n      if (value === '') {\n        _this.setState({\n          search: '',\n          searches: [],\n          searching: false\n        });\n\n        return;\n      }\n\n      _this.setState({\n        search: eventValue\n      });\n    };\n\n    _this.renderMessage = function () {\n      var status = _this.props.status;\n\n      if (status === 'live-survey') {\n        return jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"Your matches will be up bright and early on Friday, February 14th.\"), jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }), jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"In the meantime, you can finalize your\", ' ', jsx(\"u\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, jsx(Link, {\n          to: \"/app/survey\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"survey\")), ' ', \"responses, browse our\", ' ', jsx(\"u\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, jsx(Link, {\n          to: \"/app/faq\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"FAQ\")), \", check out our\", ' ', jsx(\"u\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, jsx(Link, {\n          to: \"/app/team\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"team\")), \", or read our\", ' ', jsx(\"u\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, jsx(Link, {\n          to: \"/app/archives\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"archives\")), \".\"));\n      } else if (status === 'live-processing') {\n        return jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \"We're calculating matches now! Hang tight!\"), jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }), jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, \"In the meantime, you can finalize your\", ' ', jsx(\"u\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, jsx(Link, {\n          to: \"/app/profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"profile\")), \", browse our\", ' ', jsx(\"u\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, jsx(Link, {\n          to: \"/app/faq\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, \"FAQ\")), \", check out our\", ' ', jsx(\"u\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, jsx(Link, {\n          to: \"/app/team\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, \"team\")), \", or read our\", ' ', jsx(\"u\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, jsx(Link, {\n          to: \"/app/archives\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"archives\")), \".\"));\n      } else {\n        return jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, \"Survey and matches are officially closed! If you have no matches, it looks like you didn't fill out the survey fully :(\");\n      }\n    };\n\n    _this.renderSearch = function () {\n      return jsx(\"input\", {\n        id: \"search\",\n        onChange: _this.handleInputChange,\n        onKeyPress: _this.handleKeyPress,\n        placeholder: \"Hate your matches? Search more people here\",\n        type: \"text\",\n        value: _this.state.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      });\n    };\n\n    _this.canDateOnClick = function (matchedUser, matchId, match) {\n      return _this.setState({\n        involvedSchools: match.involvedSchools,\n        matchedUser: matchedUser,\n        matchId: matchId,\n        showMatchSidebar: false,\n        showRightSidebar: true\n      });\n    };\n\n    _this.matchOnClick = function _callee2(matchedUser, matchId, match, otherUid) {\n      var _this$props, firebase, profile, createdMatchIds, newMatchId, _ref2, data;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$props = _this.props, firebase = _this$props.firebase, profile = _this$props.profile;\n              createdMatchIds = _this.state.createdMatchIds;\n              newMatchId = matchId || createdMatchIds[otherUid];\n\n              if (newMatchId) {\n                _context2.next = 15;\n                break;\n              }\n\n              if (!(profile.searchMatches <= 0)) {\n                _context2.next = 7;\n                break;\n              }\n\n              alert(\"You've ran out of search matches :(\");\n              return _context2.abrupt(\"return\");\n\n            case 7:\n              _context2.next = 9;\n              return _regeneratorRuntime.awrap(firebase.functions().httpsCallable('match-createMatch')(otherUid));\n\n            case 9:\n              _ref2 = _context2.sent;\n              data = _ref2.data;\n\n              if (data) {\n                _context2.next = 13;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 13:\n              newMatchId = data;\n\n              _this.setState({\n                createdMatchIds: _objectSpread({}, createdMatchIds, _defineProperty({}, otherUid, newMatchId))\n              });\n\n            case 15:\n              _this.setState({\n                matchedUser: matchedUser,\n                matchId: newMatchId,\n                showMatchSidebar: true,\n                showRightSidebar: false\n              });\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    };\n\n    _this.closeSidebar = function () {\n      _this.setState({\n        showMatchSidebar: false,\n        showRightSidebar: false\n      });\n    };\n\n    _this.state = {\n      // search state\n      createdMatchIds: {},\n      loadingSearch: false,\n      search: '',\n      searches: [],\n      searching: false,\n      // right sidebar state\n      showMatchSidebar: false,\n      showRightSidebar: false\n    };\n    return _this;\n  }\n\n  _createClass(PageList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          email_to_college = _this$props2.email_to_college,\n          matches = _this$props2.matches,\n          profile = _this$props2.profile,\n          status = _this$props2.status,\n          uid = _this$props2.uid;\n\n      if (isEmpty(matches) || status !== 'live-matches' && status !== 'development') {\n        return jsx(\"div\", {\n          className: \"PageList\",\n          css: pageListStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, jsx(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, \"RESULTS\"), jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }), this.renderMessage());\n      }\n\n      var _this$state = this.state,\n          loadingSearch = _this$state.loadingSearch,\n          searching = _this$state.searching,\n          searches = _this$state.searches;\n      var _this$state2 = this.state,\n          involvedSchools = _this$state2.involvedSchools,\n          matchedUser = _this$state2.matchedUser,\n          matchId = _this$state2.matchId,\n          showMatchSidebar = _this$state2.showMatchSidebar,\n          showRightSidebar = _this$state2.showRightSidebar;\n\n      if (searching) {\n        return jsx(\"div\", {\n          className: \"PageList\",\n          css: pageListStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, jsx(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, \"RESULTS\"), this.renderSearch(), jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, \"You have \", jsx(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, profile.searchMatches), \" search matches left!\"), jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }), loadingSearch && jsx(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }), !loadingSearch && searches.map(function (user) {\n          var id = user.id,\n              name = user.name;\n\n          if (!name) {\n            return null;\n          }\n\n          var match = user.match || {};\n          return jsx(MatchView, Object.assign({\n            canDate: match.canDate,\n            canDateOnClick: function canDateOnClick() {\n              return _this2.canDateOnClick(user, match.matchId, match);\n            },\n            compatibility: match.rating,\n            email_to_college: email_to_college,\n            key: id,\n            matchOnClick: function matchOnClick() {\n              return _this2.matchOnClick(user, match.matchId, match, id);\n            },\n            matched: match.matched ? match.matched[uid] : false\n          }, user, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304\n            },\n            __self: this\n          }));\n        }), !loadingSearch && searches.length === 0 && jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321\n          },\n          __self: this\n        }, \" No results. Try to be more generic. \"), showRightSidebar && jsx(RightSidebar, {\n          close: this.closeSidebar,\n          involvedSchools: involvedSchools,\n          matchedUser: matchedUser,\n          matchId: matchId,\n          meUser: profile,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        }), showMatchSidebar && jsx(MatchSidebar, {\n          close: this.closeSidebar,\n          matchedUser: matchedUser,\n          matchId: matchId,\n          meUser: profile,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          },\n          __self: this\n        }));\n      }\n\n      var sortable = Object.keys(matches).map(function (matchId) {\n        var _matches$matchId = matches[matchId],\n            canDate = _matches$matchId.canDate,\n            _matches$matchId$rati = _matches$matchId.rating,\n            rating = _matches$matchId$rati === void 0 ? 0 : _matches$matchId$rati;\n        return [matchId, canDate ? rating + 10000 : rating];\n      });\n      sortable.sort(function (a, b) {\n        return b[1] - a[1];\n      });\n      var ids = sortable.map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            matchId = _ref4[0],\n            _rating = _ref4[1];\n\n        return matchId;\n      });\n      return jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, jsx(\"div\", {\n        className: \"PageList\",\n        css: pageListStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, jsx(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, \"RESULTS\"), this.renderSearch(), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }), ids.map(function (matchId, counter) {\n        var match = matches[matchId];\n        var matchedUser = match.matchedUser;\n\n        if (!matchedUser.name) {\n          return null;\n        }\n\n        return jsx(MatchView, Object.assign({\n          canDate: match.canDate,\n          canDateOnClick: function canDateOnClick() {\n            return _this2.canDateOnClick(matchedUser, matchId, match);\n          },\n          compatibility: match.rating,\n          counter: counter + 1,\n          email_to_college: email_to_college,\n          key: matchId,\n          matched: match.matched ? match.matched[uid] : false,\n          matchOnClick: function matchOnClick() {\n            return _this2.matchOnClick(matchedUser, matchId, match);\n          }\n        }, matchedUser, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        }));\n      })), showRightSidebar && jsx(RightSidebar, {\n        close: this.closeSidebar,\n        involvedSchools: involvedSchools,\n        matchedUser: matchedUser,\n        matchId: matchId,\n        meUser: profile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }), showMatchSidebar && jsx(MatchSidebar, {\n        close: this.closeSidebar,\n        matchedUser: matchedUser,\n        matchId: matchId,\n        meUser: profile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageList;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var uid = state.firebase.auth.uid;\n  return {\n    profile: _objectSpread({\n      id: uid\n    }, state.firebase.profile),\n    uid: uid\n  };\n};\n\nexport default compose(firebaseConnect(), connect(mapStateToProps))(PageList);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageResults/routes/PageList.js"],"names":["Component","jsx","css","isEmpty","Link","compose","connect","firebaseConnect","Header","Loading","MatchView","RightSidebar","MatchSidebar","pageListStyle","PageList","props","handleKeyPress","event","search","state","key","setState","searching","loadingSearch","name","trim","toLowerCase","split","first","last","length","firebase","functions","httpsCallable","data","searches","handleInputChange","eventValue","target","value","renderMessage","status","renderSearch","canDateOnClick","matchedUser","matchId","match","involvedSchools","showMatchSidebar","showRightSidebar","matchOnClick","otherUid","profile","createdMatchIds","newMatchId","searchMatches","alert","closeSidebar","email_to_college","matches","uid","map","user","id","canDate","rating","matched","sortable","Object","keys","sort","a","b","ids","_rating","counter","mapStateToProps","auth"],"mappings":"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","sourcesContent":["/** @jsx jsx **/\nimport { Component } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport { isEmpty } from 'react-redux-firebase';\nimport { Link } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firebaseConnect } from 'react-redux-firebase';\n\nimport Header from 'components/Header';\nimport Loading from 'components/Loading';\nimport MatchView from 'components/MatchView';\nimport RightSidebar from './RightSidebar';\nimport MatchSidebar from './MatchSidebar';\n\nconst pageListStyle = css`\n  .info {\n    width: calc(100% - 140px);\n    margin: 0px 0px 0px 20px;\n    word-wrap: break-word;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    button {\n      width: 190px;\n      height: 25px;\n      padding: 2px;\n      font-family: 'Apercu';\n      font-size: 14px;\n      letter-spacing: 0.145em;\n      text-decoration-line: underline;\n    }\n\n    #match {\n      width: 70px;\n    }\n\n    #see-match {\n      width: 105px;\n    }\n  }\n\n  .basics {\n    padding-bottom: 2px;\n    font-family: 'Inconsolata';\n    font-style: medium;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 17px;\n    color: #bd574e;\n  }\n\n  .name {\n    font-family: 'Apercu';\n    font-size: 24px;\n    line-height: 29px;\n  }\n\n  .description {\n    display: inline-block;\n    padding-bottom: 8px;\n    line-height: 19px;\n  }\n\n  #search {\n    margin-top: 10px;\n    width: 418px;\n    height: 40px;\n    border: none;\n    background: #f4f2f2;\n    display: flex;\n    align-items: center;\n    letter-spacing: 0.05em;\n    color: #757575;\n  }\n`;\n\nclass PageList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // search state\n      createdMatchIds: {},\n      loadingSearch: false,\n      search: '',\n      searches: [],\n      searching: false,\n\n      // right sidebar state\n      showMatchSidebar: false,\n      showRightSidebar: false,\n    };\n  }\n\n  handleKeyPress = async event => {\n    const { search } = this.state;\n\n    if (event.key === 'Enter' && search) {\n      this.setState({ searching: true, loadingSearch: true });\n\n      const name = search\n        .trim()\n        .toLowerCase()\n        .split(' ');\n      const first = name[0];\n      const last = name.length > 1 ? name[name.length - 1] : '';\n\n      const { data } = await this.props.firebase\n        .functions()\n        .httpsCallable('user-userSearch')({ first, last });\n\n      this.setState({ searches: data, loadingSearch: false });\n    }\n  };\n\n  handleInputChange = event => {\n    const eventValue = event.target.value;\n    const value = eventValue.trim();\n\n    if (value === '') {\n      this.setState({ search: '', searches: [], searching: false });\n      return;\n    }\n\n    this.setState({ search: eventValue });\n  };\n\n  renderMessage = () => {\n    const { status } = this.props;\n\n    if (status === 'live-survey') {\n      return (\n        <div>\n          <div>\n            Your matches will be up bright and early on Friday, February 14th.\n          </div>\n          <br />\n          <div>\n            In the meantime, you can finalize your{' '}\n            <u>\n              <Link to=\"/app/survey\">survey</Link>\n            </u>{' '}\n            responses, browse our{' '}\n            <u>\n              <Link to=\"/app/faq\">FAQ</Link>\n            </u>\n            , check out our{' '}\n            <u>\n              <Link to=\"/app/team\">team</Link>\n            </u>\n            , or read our{' '}\n            <u>\n              <Link to=\"/app/archives\">archives</Link>\n            </u>\n            .\n          </div>\n        </div>\n      );\n    } else if (status === 'live-processing') {\n      return (\n        <div>\n          <div>We're calculating matches now! Hang tight!</div>\n          <br />\n          <div>\n            In the meantime, you can finalize your{' '}\n            <u>\n              <Link to=\"/app/profile\">profile</Link>\n            </u>\n            , browse our{' '}\n            <u>\n              <Link to=\"/app/faq\">FAQ</Link>\n            </u>\n            , check out our{' '}\n            <u>\n              <Link to=\"/app/team\">team</Link>\n            </u>\n            , or read our{' '}\n            <u>\n              <Link to=\"/app/archives\">archives</Link>\n            </u>\n            .\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          Survey and matches are officially closed! If you have no matches, it\n          looks like you didn't fill out the survey fully :(\n        </div>\n      );\n    }\n  };\n\n  renderSearch = () => (\n    <input\n      id=\"search\"\n      onChange={this.handleInputChange}\n      onKeyPress={this.handleKeyPress}\n      placeholder=\"Hate your matches? Search more people here\"\n      type=\"text\"\n      value={this.state.search}\n    ></input>\n  );\n\n  canDateOnClick = (matchedUser, matchId, match) =>\n    this.setState({\n      involvedSchools: match.involvedSchools,\n      matchedUser,\n      matchId,\n      showMatchSidebar: false,\n      showRightSidebar: true,\n    });\n\n  matchOnClick = async (matchedUser, matchId, match, otherUid) => {\n    const { firebase, profile } = this.props;\n    const { createdMatchIds } = this.state;\n\n    let newMatchId = matchId || createdMatchIds[otherUid];\n\n    if (!newMatchId) {\n      if (profile.searchMatches <= 0) {\n        alert(\"You've ran out of search matches :(\");\n        return;\n      }\n\n      const { data } = await firebase\n        .functions()\n        .httpsCallable('match-createMatch')(otherUid);\n\n      if (!data) {\n        return;\n      }\n\n      newMatchId = data;\n      this.setState({\n        createdMatchIds: { ...createdMatchIds, [otherUid]: newMatchId },\n      });\n    }\n\n    this.setState({\n      matchedUser,\n      matchId: newMatchId,\n      showMatchSidebar: true,\n      showRightSidebar: false,\n    });\n  };\n\n  closeSidebar = () => {\n    this.setState({\n      showMatchSidebar: false,\n      showRightSidebar: false,\n    });\n  };\n\n  render() {\n    const { email_to_college, matches, profile, status, uid } = this.props;\n\n    if (\n      isEmpty(matches) ||\n      (status !== 'live-matches' && status !== 'development')\n    ) {\n      return (\n        <div className=\"PageList\" css={pageListStyle}>\n          <Header>RESULTS</Header>\n          <br />\n          {this.renderMessage()}\n        </div>\n      );\n    }\n\n    const { loadingSearch, searching, searches } = this.state;\n\n    const {\n      involvedSchools,\n      matchedUser,\n      matchId,\n      showMatchSidebar,\n      showRightSidebar,\n    } = this.state;\n\n    if (searching) {\n      return (\n        <div className=\"PageList\" css={pageListStyle}>\n          <Header>RESULTS</Header>\n          {this.renderSearch()}\n          <div>\n            You have <b>{profile.searchMatches}</b> search matches left!\n          </div>\n          <br />\n          {loadingSearch && <Loading />}\n          {!loadingSearch &&\n            searches.map(user => {\n              const { id, name } = user;\n\n              if (!name) {\n                return null;\n              }\n\n              const match = user.match || {};\n\n              return (\n                <MatchView\n                  canDate={match.canDate}\n                  canDateOnClick={() =>\n                    this.canDateOnClick(user, match.matchId, match)\n                  }\n                  compatibility={match.rating}\n                  email_to_college={email_to_college}\n                  key={id}\n                  matchOnClick={() =>\n                    this.matchOnClick(user, match.matchId, match, id)\n                  }\n                  matched={match.matched ? match.matched[uid] : false}\n                  {...user}\n                />\n              );\n            })}\n          {!loadingSearch && searches.length === 0 && (\n            <div> No results. Try to be more generic. </div>\n          )}\n          {showRightSidebar && (\n            <RightSidebar\n              close={this.closeSidebar}\n              involvedSchools={involvedSchools}\n              matchedUser={matchedUser}\n              matchId={matchId}\n              meUser={profile}\n            />\n          )}\n          {showMatchSidebar && (\n            <MatchSidebar\n              close={this.closeSidebar}\n              matchedUser={matchedUser}\n              matchId={matchId}\n              meUser={profile}\n            />\n          )}\n        </div>\n      );\n    }\n\n    const sortable = Object.keys(matches).map(matchId => {\n      const { canDate, rating = 0 } = matches[matchId];\n      return [matchId, canDate ? rating + 10000 : rating];\n    });\n    sortable.sort((a, b) => b[1] - a[1]);\n\n    const ids = sortable.map(([matchId, _rating]) => matchId);\n\n    return (\n      <div>\n        <div className=\"PageList\" css={pageListStyle}>\n          <Header>RESULTS</Header>\n          {this.renderSearch()}\n          <br />\n\n          {ids.map((matchId, counter) => {\n            const match = matches[matchId];\n            const { matchedUser } = match;\n\n            if (!matchedUser.name) {\n              return null;\n            }\n\n            return (\n              <MatchView\n                canDate={match.canDate}\n                canDateOnClick={() =>\n                  this.canDateOnClick(matchedUser, matchId, match)\n                }\n                compatibility={match.rating}\n                counter={counter + 1}\n                email_to_college={email_to_college}\n                key={matchId}\n                matched={match.matched ? match.matched[uid] : false}\n                matchOnClick={() =>\n                  this.matchOnClick(matchedUser, matchId, match)\n                }\n                {...matchedUser}\n              />\n            );\n          })}\n        </div>\n\n        {showRightSidebar && (\n          <RightSidebar\n            close={this.closeSidebar}\n            involvedSchools={involvedSchools}\n            matchedUser={matchedUser}\n            matchId={matchId}\n            meUser={profile}\n          />\n        )}\n\n        {showMatchSidebar && (\n          <MatchSidebar\n            close={this.closeSidebar}\n            matchedUser={matchedUser}\n            matchId={matchId}\n            meUser={profile}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const uid = state.firebase.auth.uid;\n  return { profile: { id: uid, ...state.firebase.profile }, uid };\n};\n\nexport default compose(firebaseConnect(), connect(mapStateToProps))(PageList);\n"]},"metadata":{},"sourceType":"module"}