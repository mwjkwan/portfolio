{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageAuth/routes/PageRegister.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport GoogleButton from 'components/GoogleButton';\nimport Loading from 'components/Loading';\nimport AuthWrapper from 'components/AuthWrapper';\n\nvar PageRegister =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageRegister, _Component);\n\n  function PageRegister(props) {\n    var _this;\n\n    _classCallCheck(this, PageRegister);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageRegister).call(this, props));\n\n    _this.onFormSubmit = function (event) {\n      event.preventDefault();\n      var email = _this.refs.email.value;\n      var password = _this.refs.password.value;\n      var confirmPassword = _this.refs['confirm-password'].value;\n\n      _this.setState({\n        loading: true\n      });\n\n      if (password === confirmPassword) {\n        _this.props.registerUser({\n          email: email,\n          password: password\n        }).then(function (data) {\n          _this.props.firebase.auth().currentUser.sendEmailVerification().then(function () {\n            console.log('verification email sent');\n          }).catch(function (err) {\n            console.log(err);\n          });\n        }).catch(function (error) {\n          _this.setState({\n            message: error.message,\n            loading: false\n          });\n        }); // Mixpanel.alias(email);\n        // Mixpanel.track('user_signup', { email: email });\n\n      } else {\n        _this.setState({\n          message: 'Passwords do not match',\n          loading: false\n        });\n      }\n    };\n\n    _this.loginWithProvider = function (provider) {\n      _this.setState({\n        loading: true\n      });\n\n      _this.props.loginUser({\n        provider: provider\n      }) // .then(data => {\n      //   let email = data.user.user.email;\n      // })\n      .catch(function (error) {\n        _this.setState({\n          message: error.message,\n          loading: false\n        });\n      });\n    };\n\n    _this.state = {\n      message: '',\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(PageRegister, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(AuthWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Sign Up\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"email\",\n        ref: \"email\",\n        placeholder: \"@college.harvard.edu email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        ref: \"password\",\n        placeholder: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        ref: \"confirm-password\",\n        placeholder: \"confirm password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), !this.state.loading ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Sign Up\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), this.state.message && React.createElement(\"div\", {\n        className: \"Warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), this.state.message), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(GoogleButton, {\n        onClick: function onClick() {\n          _this2.loginWithProvider('google');\n        },\n        text: 'Sign up with Google',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })) : React.createElement(Loading, {\n        style: {\n          height: 148\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: 'AuthLinks',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Already have an account? Log in\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          height: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/reset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Forgot password? Reset\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PageRegister;\n}(Component);\n\nexport { PageRegister as default };","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageAuth/routes/PageRegister.js"],"names":["React","Component","Link","GoogleButton","Loading","AuthWrapper","PageRegister","props","onFormSubmit","event","preventDefault","email","refs","value","password","confirmPassword","setState","loading","registerUser","then","data","firebase","auth","currentUser","sendEmailVerification","console","log","catch","err","error","message","loginWithProvider","provider","loginUser","state","height"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport GoogleButton from 'components/GoogleButton';\nimport Loading from 'components/Loading';\nimport AuthWrapper from 'components/AuthWrapper';\n\nexport default class PageRegister extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: '',\n      loading: false,\n    };\n  }\n\n  onFormSubmit = event => {\n    event.preventDefault();\n\n    const email = this.refs.email.value;\n    const password = this.refs.password.value;\n    const confirmPassword = this.refs['confirm-password'].value;\n\n    this.setState({ loading: true });\n\n    if (password === confirmPassword) {\n      this.props\n        .registerUser({ email, password })\n        .then(data => {\n          this.props.firebase\n            .auth()\n            .currentUser.sendEmailVerification()\n            .then(() => {\n              console.log('verification email sent');\n            })\n            .catch(err => {\n              console.log(err);\n            });\n        })\n        .catch(error => {\n          this.setState({ message: error.message, loading: false });\n        });\n      // Mixpanel.alias(email);\n      // Mixpanel.track('user_signup', { email: email });\n    } else {\n      this.setState({ message: 'Passwords do not match', loading: false });\n    }\n  };\n\n  loginWithProvider = provider => {\n    this.setState({ loading: true });\n\n    this.props\n      .loginUser({ provider })\n      // .then(data => {\n      //   let email = data.user.user.email;\n      // })\n      .catch(error => {\n        this.setState({ message: error.message, loading: false });\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <AuthWrapper>\n        <form onSubmit={this.onFormSubmit}>\n            <h1>Sign Up</h1>\n            <br />\n            <input\n              type=\"email\"\n              ref=\"email\"\n              placeholder=\"@college.harvard.edu email\"\n            />\n            <br />\n            <br />\n            <input type=\"password\" ref=\"password\" placeholder=\"password\" />\n            <br />\n            <br />\n            <input\n              type=\"password\"\n              ref=\"confirm-password\"\n              placeholder=\"confirm password\"\n            />\n            <br />\n            <br />\n            {!this.state.loading ? (\n              <div>\n                <button type=\"submit\">Sign Up</button>\n                <br />\n                {this.state.message && (\n                  <div className=\"Warning\">\n                    <br />\n                    {this.state.message}\n                  </div>\n                )}\n                <hr />\n                <GoogleButton\n                  onClick={() => {\n                    this.loginWithProvider('google');\n                  }}\n                  text={'Sign up with Google'}\n                />\n              </div>\n            ) : (\n              <Loading style={{ height: 148 }} />\n            )}\n          </form>\n        </AuthWrapper>\n        <div className={'AuthLinks'}>\n          <Link to=\"/login\">Already have an account? Log in</Link>\n          <br />\n          <div style={{ height: 10 }} />\n          <Link to=\"/reset\">Forgot password? Reset</Link>\n          <br />\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}