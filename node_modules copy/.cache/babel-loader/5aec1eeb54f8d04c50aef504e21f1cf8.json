{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/RestaurantPortal/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect, firebaseConnect, isLoaded } from 'react-redux-firebase';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Sidebar from 'components/Sidebar';\nimport Loading from 'components/Loading';\nimport PageLogin from 'components/Login';\nimport NavigationBar from './NavigationBar';\nimport CheckIn from './CheckIn';\n\nvar RestaurantPortal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RestaurantPortal, _Component);\n\n  function RestaurantPortal() {\n    _classCallCheck(this, RestaurantPortal);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RestaurantPortal).apply(this, arguments));\n  }\n\n  _createClass(RestaurantPortal, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          email = _this$props.email,\n          isLoggedIn = _this$props.isLoggedIn,\n          loginUser = _this$props.loginUser,\n          restaurantAdmins = _this$props.restaurantAdmins;\n      console.log(restaurantAdmins);\n\n      if (!isLoaded(this.props.restaurantAdmins)) {\n        return React.createElement(\"div\", {\n          style: {\n            height: 200\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }));\n      }\n\n      var restaurant = restaurantAdmins.admins_to_restaurant[email];\n\n      if (!isLoggedIn) {\n        return React.createElement(PageLogin, {\n          loginUser: loginUser,\n          title: \"Restaurant Portal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        });\n      }\n\n      if (!restaurant) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"PageRestaurant\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        leftSidebar: React.createElement(NavigationBar, {\n          admin: this.props.admin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/restaurant\",\n        render: function render() {\n          return React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }, \"You are in!\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/restaurant/check-in\",\n        render: function render() {\n          return React.createElement(CheckIn, Object.assign({\n            restaurant: restaurant\n          }, _this.props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: function component() {\n          return React.createElement(Redirect, {\n            to: \"/restaurant\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return RestaurantPortal;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  console.log(state);\n  return {\n    email: state.firebase.auth.email,\n    isLoggedIn: state.firebase.auth.uid ? true : false,\n    loginUser: props.firebase.login,\n    restaurantAdmins: state.firestore.data.restaurant_admins\n  };\n};\n\nexport default compose(firebaseConnect(), firestoreConnect(function () {\n  return [{\n    collection: 'portals',\n    doc: 'restaurant_admins',\n    storeAs: 'restaurant_admins'\n  }];\n}), connect(mapStateToProps))(RestaurantPortal);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/RestaurantPortal/index.js"],"names":["React","Component","connect","compose","firestoreConnect","firebaseConnect","isLoaded","Route","Switch","Redirect","Sidebar","Loading","PageLogin","NavigationBar","CheckIn","RestaurantPortal","props","email","isLoggedIn","loginUser","restaurantAdmins","console","log","height","restaurant","admins_to_restaurant","admin","mapStateToProps","state","firebase","auth","uid","login","firestore","data","restaurant_admins","collection","doc","storeAs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport {\n  firestoreConnect,\n  firebaseConnect,\n  isLoaded,\n} from 'react-redux-firebase';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport Sidebar from 'components/Sidebar';\nimport Loading from 'components/Loading';\nimport PageLogin from 'components/Login';\n\nimport NavigationBar from './NavigationBar';\nimport CheckIn from './CheckIn';\n\nclass RestaurantPortal extends Component {\n  render() {\n    const { email, isLoggedIn, loginUser, restaurantAdmins } = this.props;\n\n    console.log(restaurantAdmins);\n\n    if (!isLoaded(this.props.restaurantAdmins)) {\n      return (\n        <div style={{ height: 200 }}>\n          <Loading />\n        </div>\n      );\n    }\n\n    const restaurant = restaurantAdmins.admins_to_restaurant[email];\n\n    if (!isLoggedIn) {\n      return <PageLogin loginUser={loginUser} title=\"Restaurant Portal\" />;\n    }\n    if (!restaurant) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"PageRestaurant\">\n        <Sidebar leftSidebar={<NavigationBar admin={this.props.admin} />}>\n          <Switch>\n            <Route\n              exact\n              path=\"/restaurant\"\n              render={() => {\n                return <h1>You are in!</h1>;\n              }}\n            />\n            <Route\n              exact\n              path=\"/restaurant/check-in\"\n              render={() => {\n                return <CheckIn restaurant={restaurant} {...this.props} />;\n              }}\n            />\n            <Route component={() => <Redirect to=\"/restaurant\" />} />\n          </Switch>\n        </Sidebar>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  console.log(state);\n  return {\n    email: state.firebase.auth.email,\n    isLoggedIn: state.firebase.auth.uid ? true : false,\n    loginUser: props.firebase.login,\n    restaurantAdmins: state.firestore.data.restaurant_admins,\n  };\n};\n\nexport default compose(\n  firebaseConnect(),\n  firestoreConnect(() => [\n    {\n      collection: 'portals',\n      doc: 'restaurant_admins',\n      storeAs: 'restaurant_admins',\n    },\n  ]),\n  connect(mapStateToProps),\n)(RestaurantPortal);\n"]},"metadata":{},"sourceType":"module"}