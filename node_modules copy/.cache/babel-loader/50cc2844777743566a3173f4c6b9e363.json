{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/components/Login.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 20px;\\n\\n  a {\\n    color: rgba(0, 0, 0, 0.5);\\n    font-size: 14px;\\n  }\\n\\n  .Box {\\n    border: 1px solid #ededef;\\n    padding: 20px 30px;\\n    max-width: 460px;\\n    align-items: center;\\n    justify-content: center;\\n    margin: 40px auto 0 auto;\\n\\n    input {\\n      background: #F4F2F2;\\n      border: none;\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/** @jsx jsx */\nimport { Component } from 'react';\nimport { jsx, css, Global } from '@emotion/core';\nimport { Link } from 'react-router-dom';\nimport { Mixpanel } from 'utils/mixpanel';\nimport Loading from './Loading';\nimport Button from './Header';\nimport GoogleButton from './GoogleButton';\nimport Logo from './Logo';\nimport PropTypes from 'prop-types';\nvar pageLoginStyle = css(_templateObject());\n\nvar PageLogin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageLogin, _Component);\n\n  function PageLogin(props) {\n    var _this;\n\n    _classCallCheck(this, PageLogin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageLogin).call(this, props));\n\n    _this.onFormSubmit = function (event) {\n      event.preventDefault();\n      var email = _this.refs.email.value;\n      var password = _this.refs.password.value;\n\n      _this.setState({\n        loading: true\n      });\n\n      _this.props.loginUser({\n        email: email,\n        password: password\n      }).then(function (data) {\n        Mixpanel.identify(email);\n        Mixpanel.track('user_login', {\n          email: email\n        });\n      }).catch(function (error) {\n        _this.setState({\n          message: error.message,\n          loading: false\n        });\n      });\n    };\n\n    _this.loginWithProvider = function (provider) {\n      _this.setState({\n        loading: true\n      });\n\n      _this.props.loginUser({\n        provider: provider\n      }).then(function (data) {\n        var email = data.user.user.email;\n        Mixpanel.identify(email);\n        Mixpanel.track('user_login', {\n          email: email\n        });\n      }).catch(function (error) {\n        _this.setState({\n          message: error.message,\n          loading: false\n        });\n      });\n    };\n\n    _this.state = {\n      message: '',\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(PageLogin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return jsx(\"div\", {\n        className: \"PageLogin\",\n        css: pageLoginStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, jsx(Global, {\n        styles: {\n          body: {\n            background: '#F9A9A5'\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), jsx(\"div\", {\n        styles: {\n          maxWidth: '20px !important'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, jsx(Logo, {\n        login: true,\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), jsx(\"div\", {\n        className: \"Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, jsx(\"form\", {\n        onSubmit: this.onFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Log In\"), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), jsx(\"input\", {\n        type: \"email\",\n        ref: \"email\",\n        placeholder: \"@college.harvard.edu email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), jsx(\"input\", {\n        type: \"password\",\n        ref: \"password\",\n        placeholder: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), !this.state.loading ? jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, jsx(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Log In\"), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), this.state.message && jsx(\"div\", {\n        className: \"Warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), this.state.message), jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), jsx(GoogleButton, {\n        onClick: function onClick() {\n          _this2.loginWithProvider('google');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })) : jsx(Loading, {\n        style: {\n          height: 148\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }))), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), jsx(Link, {\n        to: \"/reset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Forgot password? Reset\"), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), jsx(\"div\", {\n        style: {\n          height: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), jsx(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Create an account\"), jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageLogin;\n}(Component);\n\nexport { PageLogin as default };\nPageLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/melissa/datamatch/src/components/Login.js"],"names":["Component","jsx","css","Global","Link","Mixpanel","Loading","Button","GoogleButton","Logo","PropTypes","pageLoginStyle","PageLogin","props","onFormSubmit","event","preventDefault","email","refs","value","password","setState","loading","loginUser","then","data","identify","track","catch","error","message","loginWithProvider","provider","user","state","body","background","maxWidth","height","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["/** @jsx jsx */\n\nimport { Component } from 'react';\nimport { jsx, css, Global } from '@emotion/core';\nimport { Link } from 'react-router-dom';\nimport { Mixpanel } from 'utils/mixpanel';\nimport Loading from './Loading';\nimport Button from './Header';\nimport GoogleButton from './GoogleButton';\nimport Logo from './Logo';\nimport PropTypes from 'prop-types';\n\nconst pageLoginStyle = css`\n  text-align: center;\n  padding: 20px;\n\n  a {\n    color: rgba(0, 0, 0, 0.5);\n    font-size: 14px;\n  }\n\n  .Box {\n    border: 1px solid #ededef;\n    padding: 20px 30px;\n    max-width: 460px;\n    align-items: center;\n    justify-content: center;\n    margin: 40px auto 0 auto;\n\n    input {\n      background: #F4F2F2;\n      border: none;\n    }\n  }\n`;\n\nexport default class PageLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { message: '', loading: false };\n  }\n\n  onFormSubmit = event => {\n    event.preventDefault();\n\n    const email = this.refs.email.value;\n    const password = this.refs.password.value;\n\n    this.setState({ loading: true });\n\n    this.props\n      .loginUser({ email, password })\n      .then(data => {\n        Mixpanel.identify(email);\n        Mixpanel.track('user_login', { email: email });\n      })\n      .catch(error => {\n        this.setState({ message: error.message, loading: false });\n      });\n  };\n\n  loginWithProvider = provider => {\n    this.setState({ loading: true });\n\n    this.props\n      .loginUser({ provider })\n      .then(data => {\n        let email = data.user.user.email;\n        Mixpanel.identify(email);\n        Mixpanel.track('user_login', { email: email });\n      })\n      .catch(error => {\n        this.setState({ message: error.message, loading: false });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"PageLogin\" css={pageLoginStyle}>\n        <Global styles={{ body: { background: '#F9A9A5' } }} />\n        <div styles={{ maxWidth: '20px !important' }}>\n          <Logo login center />\n        </div>\n        <div className=\"Box\">\n          <form onSubmit={this.onFormSubmit}>\n            <h1>Log In</h1>\n            <br />\n            <input\n              type=\"email\"\n              ref=\"email\"\n              placeholder=\"@college.harvard.edu email\"\n            />\n            <br />\n            <br />\n            <input type=\"password\" ref=\"password\" placeholder=\"password\" />\n            <br />\n            <br />\n            {!this.state.loading ? (\n              <div>\n                <button type=\"submit\">Log In</button>\n                <br />\n                {this.state.message && (\n                  <div className=\"Warning\">\n                    <br />\n                    {this.state.message}\n                  </div>\n                )}\n                <hr />\n                <GoogleButton\n                  onClick={() => {\n                    this.loginWithProvider('google');\n                  }}\n                />\n              </div>\n            ) : (\n              <Loading style={{ height: 148 }} />\n            )}\n          </form>\n        </div>\n        <br />\n        <Link to=\"/reset\">Forgot password? Reset</Link>\n        <br />\n        <div style={{ height: 10 }} />\n        <Link to=\"/register\">Create an account</Link>\n        <br />\n      </div>\n    );\n  }\n}\n\nPageLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}