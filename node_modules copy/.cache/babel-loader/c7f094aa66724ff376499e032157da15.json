{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/Root.js\";\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { firestoreConnect, firebaseConnect } from 'react-redux-firebase';\nimport { PrivateRoute, PublicRoute } from 'components/PrivateRoute';\nimport Loading from 'components/Loading';\nimport PageLanding from 'pages/PageLanding';\nimport PageOnboard from 'pages/PageOnboard';\nimport PageApp from 'pages/PageApp';\nimport PageAuth from 'pages/PageAuth';\nimport SchoolPortal from 'pages/SchoolPortal';\nimport RestaurantPortal from 'pages/RestaurantPortal';\n\nvar RootImpl =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RootImpl, _React$Component);\n\n  function RootImpl() {\n    _classCallCheck(this, RootImpl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RootImpl).apply(this, arguments));\n  }\n\n  _createClass(RootImpl, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.props.isLoaded) {\n        return React.createElement(\"div\", {\n          style: {\n            maxWidth: 500,\n            margin: '20% auto'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          type: \"spin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Root\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(PrivateRoute, {\n        path: \"/app\",\n        component: this.props.emailVerified ? this.props.onboarded ? PageApp : PageOnboard : PageAuth,\n        isLoggedIn: this.props.isLoggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }), React.createElement(PrivateRoute, {\n        path: \"/onboard\",\n        component: PageOnboard,\n        isLoggedIn: this.props.isLoggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(PublicRoute, {\n        exact: true,\n        path: \"/(|about|support)/\",\n        component: PageLanding,\n        isLoggedIn: this.props.isLoggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/(login|register|auth|reset)/\",\n        component: PageAuth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/school_portal\",\n        component: SchoolPortal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/restaurant\",\n        component: RestaurantPortal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: function component() {\n          return React.createElement(Redirect, {\n            to: \"/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return RootImpl;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  // console.log(state, props);\n  return {\n    isLoaded: state.firebase.auth.isLoaded && state.firebase.profile.isLoaded,\n    isLoggedIn: state.firebase.auth.uid ? true : false,\n    onboarded: state.firebase.profile.onboarded,\n    emailVerified: state.firebase.auth.emailVerified\n  };\n};\n\nexport default compose(firebaseConnect(), firestoreConnect(), connect(mapStateToProps))(RootImpl);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/Root.js"],"names":["React","connect","compose","Route","Switch","Redirect","firestoreConnect","firebaseConnect","PrivateRoute","PublicRoute","Loading","PageLanding","PageOnboard","PageApp","PageAuth","SchoolPortal","RestaurantPortal","RootImpl","props","isLoaded","maxWidth","margin","emailVerified","onboarded","isLoggedIn","Component","mapStateToProps","state","firebase","auth","profile","uid"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { firestoreConnect, firebaseConnect } from 'react-redux-firebase';\n\nimport { PrivateRoute, PublicRoute } from 'components/PrivateRoute';\nimport Loading from 'components/Loading';\n\nimport PageLanding from 'pages/PageLanding';\nimport PageOnboard from 'pages/PageOnboard';\nimport PageApp from 'pages/PageApp';\nimport PageAuth from 'pages/PageAuth';\nimport SchoolPortal from 'pages/SchoolPortal';\nimport RestaurantPortal from 'pages/RestaurantPortal';\n\nclass RootImpl extends React.Component {\n  render() {\n    if (!this.props.isLoaded) {\n      return (\n        <div style={{ maxWidth: 500, margin: '20% auto' }}>\n          <Loading type=\"spin\" />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Root\">\n        <Switch>\n          <PrivateRoute\n            path=\"/app\"\n            component={\n              this.props.emailVerified\n                ? this.props.onboarded\n                  ? PageApp\n                  : PageOnboard\n                : PageAuth\n            }\n            isLoggedIn={this.props.isLoggedIn}\n          />\n          <PrivateRoute\n            path=\"/onboard\"\n            component={PageOnboard}\n            isLoggedIn={this.props.isLoggedIn}\n          />\n          <PublicRoute\n            exact\n            path=\"/(|about|support)/\"\n            component={PageLanding}\n            isLoggedIn={this.props.isLoggedIn}\n          />\n          <Route\n            exact\n            path=\"/(login|register|auth|reset)/\"\n            component={PageAuth}\n          />\n          <Route path=\"/school_portal\" component={SchoolPortal} />\n          <Route path=\"/restaurant\" component={RestaurantPortal} />\n          <Route component={() => <Redirect to=\"/\" />} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  // console.log(state, props);\n  return {\n    isLoaded: state.firebase.auth.isLoaded && state.firebase.profile.isLoaded,\n    isLoggedIn: state.firebase.auth.uid ? true : false,\n    onboarded: state.firebase.profile.onboarded,\n    emailVerified: state.firebase.auth.emailVerified,\n  };\n};\n\nexport default compose(\n  firebaseConnect(),\n  firestoreConnect(),\n  connect(mapStateToProps),\n)(RootImpl);\n"]},"metadata":{},"sourceType":"module"}