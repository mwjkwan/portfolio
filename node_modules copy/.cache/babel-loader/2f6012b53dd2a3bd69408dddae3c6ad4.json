{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageOnboard/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, compose } from 'redux';\nimport { firestoreConnect, firebaseConnect } from 'react-redux-firebase';\nimport { isLoaded, isEmpty } from 'react-redux-firebase';\nimport Loading from 'components/Loading';\nimport { Link } from 'react-router-dom';\nimport Feedback from 'components/Feedback';\nimport PageOnboardLayout from './layout';\nimport './styles.scss';\n\nvar PageOnboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageOnboard, _Component);\n\n  function PageOnboard() {\n    _classCallCheck(this, PageOnboard);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PageOnboard).apply(this, arguments));\n  }\n\n  _createClass(PageOnboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.body.style.background = '#fff';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!isLoaded(this.props.settings)) {\n        return React.createElement(\"div\", {\n          style: {\n            height: 200\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }));\n      }\n\n      var email = this.props.email.split('@')[1];\n      var college = this.props.settings.email_to_college[email];\n      var survey = this.props.settings.college_to_survey[college] || 'NONE';\n      var status = this.props.settings.status[college] || 'NONE';\n      var dorms = this.props.settings.college_to_dorm[college] || [null];\n\n      if (!college && !this.props.admin) {\n        return React.createElement(\"div\", {\n          style: {\n            display: 'flex',\n            // alignItems: \"center\",\n            justifyContent: 'center',\n            height: '100%',\n            flexDirection: 'column',\n            padding: 20,\n            maxWidth: 500,\n            margin: '0 auto'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, 'Sorry, Datamatch is not at your college yet! :(', React.createElement(\"div\", {\n          style: {\n            height: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"You need an email from the following:\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }), Object.keys(this.props.settings.email_to_college).map(function (email) {\n          return React.createElement(\"div\", {\n            key: email,\n            style: {\n              fontFamily: 'apercu'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, email, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }));\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"If you want to bring Datamatch to your campus, reach out to us below!\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }), React.createElement(Feedback, {\n          name: 'Interest from another College',\n          email: this.props.email,\n          placeholder: 'Send us a message!',\n          buttonText: 'Send!',\n          submittedText: \"We'll get back ASAP!\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }), React.createElement(Link, {\n          to: \"/\",\n          onClick: this.props.logoutUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, \"Log Out\"));\n      }\n\n      return React.createElement(PageOnboardLayout, Object.assign({}, this.props, {\n        dorms: dorms,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageOnboard;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    updateProfile: props.firebase.updateProfile,\n    logoutUser: props.firebase.logout,\n    email: state.firebase.auth.email,\n    uploadFile: props.firebase.uploadFile,\n    settings: state.firestore.data.settings,\n    admin: state.firebase.profile.admin // settings: state.firebase.data.settings,\n\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\nexport default compose(firebaseConnect(), firestoreConnect(function (props) {\n  return [{\n    collection: 'settings',\n    doc: 'config',\n    storeAs: 'settings'\n  }];\n}), connect(mapStateToProps, mapDispatchToProps))(PageOnboard);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageOnboard/index.js"],"names":["React","Component","connect","bindActionCreators","compose","firestoreConnect","firebaseConnect","isLoaded","isEmpty","Loading","Link","Feedback","PageOnboardLayout","PageOnboard","document","body","style","background","props","settings","height","email","split","college","email_to_college","survey","college_to_survey","status","dorms","college_to_dorm","admin","display","justifyContent","flexDirection","padding","maxWidth","margin","Object","keys","map","fontFamily","logoutUser","mapStateToProps","state","updateProfile","firebase","logout","auth","uploadFile","firestore","data","profile","mapDispatchToProps","dispatch","collection","doc","storeAs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, compose } from 'redux';\nimport { firestoreConnect, firebaseConnect } from 'react-redux-firebase';\nimport { isLoaded, isEmpty } from 'react-redux-firebase';\nimport Loading from 'components/Loading';\nimport { Link } from 'react-router-dom';\nimport Feedback from 'components/Feedback';\n\nimport PageOnboardLayout from './layout';\nimport './styles.scss';\n\nclass PageOnboard extends Component {\n  componentDidMount() {\n    document.body.style.background = '#fff';\n  }\n\n  render() {\n    if (!isLoaded(this.props.settings)) {\n      return (\n        <div style={{ height: 200 }}>\n          <Loading />\n        </div>\n      );\n    }\n\n    var email = this.props.email.split('@')[1];\n    var college = this.props.settings.email_to_college[email];\n    var survey = this.props.settings.college_to_survey[college] || 'NONE';\n    var status = this.props.settings.status[college] || 'NONE';\n    var dorms = this.props.settings.college_to_dorm[college] || [null];\n\n    if (!college && !this.props.admin) {\n      return (\n        <div\n          style={{\n            display: 'flex',\n            // alignItems: \"center\",\n            justifyContent: 'center',\n            height: '100%',\n            flexDirection: 'column',\n            padding: 20,\n            maxWidth: 500,\n            margin: '0 auto',\n          }}\n        >\n          {'Sorry, Datamatch is not at your college yet! :('}\n          <div style={{ height: 20 }} />\n          <div>You need an email from the following:</div>\n          <br />\n          {Object.keys(this.props.settings.email_to_college).map(email => {\n            return (\n              <div key={email} style={{ fontFamily: 'apercu' }}>\n                {email}\n                <br />\n              </div>\n            );\n          })}\n          <br />\n          <div>\n            If you want to bring Datamatch to your campus, reach out to us\n            below!\n          </div>\n          <br />\n          <Feedback\n            name={'Interest from another College'}\n            email={this.props.email}\n            placeholder={'Send us a message!'}\n            buttonText={'Send!'}\n            submittedText={\"We'll get back ASAP!\"}\n          />\n          <br />\n          <Link to=\"/\" onClick={this.props.logoutUser}>\n            Log Out\n          </Link>\n        </div>\n      );\n    }\n\n    return <PageOnboardLayout {...this.props} dorms={dorms} />;\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    updateProfile: props.firebase.updateProfile,\n    logoutUser: props.firebase.logout,\n    email: state.firebase.auth.email,\n    uploadFile: props.firebase.uploadFile,\n    settings: state.firestore.data.settings,\n    admin: state.firebase.profile.admin,\n    // settings: state.firebase.data.settings,\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\nexport default compose(\n  firebaseConnect(/*props => [\n    {\n      path: \"/settings\"\n    }\n  ]*/),\n  firestoreConnect(props => [\n    {\n      collection: 'settings',\n      doc: 'config',\n      storeAs: 'settings',\n    },\n  ]),\n  connect(mapStateToProps, mapDispatchToProps),\n)(PageOnboard);\n"]},"metadata":{},"sourceType":"module"}