{"ast":null,"code":"import _defineProperty from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/components/PasswordReset.js\";\nimport React, { Component } from 'react';\nimport Input from 'components/Input';\n\nvar PageSettingsLayout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageSettingsLayout, _Component);\n\n  function PageSettingsLayout(props) {\n    var _this;\n\n    _classCallCheck(this, PageSettingsLayout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageSettingsLayout).call(this, props));\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.resetPasswordFields = function () {\n      return _this.setState({\n        resetPassword: false,\n        reset0: '',\n        reset1: '',\n        reset2: ''\n      });\n    };\n\n    _this.updatePassword = function () {\n      var _this$props = _this.props,\n          auth = _this$props.auth,\n          reauthenticate = _this$props.reauthenticate;\n      var _this$state = _this.state,\n          reset0 = _this$state.reset0,\n          reset1 = _this$state.reset1;\n      reauthenticate(reset0).then(function () {\n        auth().currentUser.updatePassword(reset1).then(function () {\n          alert('Password Reset!');\n\n          _this.resetPasswordFields();\n        }).catch(function (error) {\n          alert('PASSWORD RESET FAILED: ' + error.message);\n\n          _this.resetPasswordFields();\n        });\n      }).catch(function (error) {\n        alert('PASSWORD RESET FAILED ' + error.message);\n\n        _this.resetPasswordFields();\n      });\n    };\n\n    _this.state = {\n      resetPassword: false,\n      reset0: '',\n      reset1: '',\n      reset2: ''\n    };\n    return _this;\n  }\n\n  _createClass(PageSettingsLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          resetPassword = _this$state2.resetPassword,\n          reset0 = _this$state2.reset0,\n          reset1 = _this$state2.reset1,\n          reset2 = _this$state2.reset2;\n      var works = reset0 && reset1 === reset2 && reset1.length > 6;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Password\"), !resetPassword && React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.setState({\n            resetPassword: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Reset Password\")), resetPassword && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Input, {\n        handleInputChange: this.handleInputChange,\n        name: \"reset0\",\n        placeholder: \"Old Password\",\n        type: \"password\",\n        value: this.state.reset0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(Input, {\n        handleInputChange: this.handleInputChange,\n        name: \"reset1\",\n        placeholder: \"New Password\",\n        type: \"password\",\n        value: this.state.reset1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(Input, {\n        handleInputChange: this.handleInputChange,\n        name: \"reset2\",\n        placeholder: \"Confirm New Password\",\n        type: \"password\",\n        value: this.state.reset2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.updatePassword();\n        },\n        style: {\n          marginTop: 20,\n          opacity: works ? 1 : 0.8,\n          pointerEvents: works ? 'auto' : 'none',\n          marginBottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Confirm Password Change\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.setState({\n            resetPassword: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Cancel Reset\")));\n    }\n  }]);\n\n  return PageSettingsLayout;\n}(Component);\n\nexport { PageSettingsLayout as default };","map":{"version":3,"sources":["/Users/melissa/datamatch/src/components/PasswordReset.js"],"names":["React","Component","Input","PageSettingsLayout","props","handleInputChange","event","target","name","value","setState","resetPasswordFields","resetPassword","reset0","reset1","reset2","updatePassword","auth","reauthenticate","state","then","currentUser","alert","catch","error","message","works","length","marginTop","opacity","pointerEvents","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Input from 'components/Input';\n\nexport default class PageSettingsLayout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { resetPassword: false, reset0: '', reset1: '', reset2: '' };\n  }\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  resetPasswordFields = () =>\n    this.setState({\n      resetPassword: false,\n      reset0: '',\n      reset1: '',\n      reset2: '',\n    });\n\n  updatePassword = () => {\n    const { auth, reauthenticate } = this.props;\n    const { reset0, reset1 } = this.state;\n    reauthenticate(reset0)\n      .then(() => {\n        auth()\n          .currentUser.updatePassword(reset1)\n          .then(() => {\n            alert('Password Reset!');\n            this.resetPasswordFields();\n          })\n          .catch(error => {\n            alert('PASSWORD RESET FAILED: ' + error.message);\n            this.resetPasswordFields();\n          });\n      })\n      .catch(error => {\n        alert('PASSWORD RESET FAILED ' + error.message);\n        this.resetPasswordFields();\n      });\n  };\n\n  render() {\n    const { resetPassword, reset0, reset1, reset2 } = this.state;\n    const works = reset0 && reset1 === reset2 && reset1.length > 6;\n\n    return (\n      <div>\n        <br />\n        <div>\n          <h5>Password</h5>\n          {!resetPassword && (\n            <button onClick={() => this.setState({ resetPassword: true })}>\n              Reset Password\n            </button>\n          )}\n        </div>\n        {resetPassword && (\n          <div>\n            <Input\n              handleInputChange={this.handleInputChange}\n              name=\"reset0\"\n              placeholder=\"Old Password\"\n              type=\"password\"\n              value={this.state.reset0}\n            />\n            <br />\n            <Input\n              handleInputChange={this.handleInputChange}\n              name=\"reset1\"\n              placeholder=\"New Password\"\n              type=\"password\"\n              value={this.state.reset1}\n            />\n            <br />\n            <Input\n              handleInputChange={this.handleInputChange}\n              name=\"reset2\"\n              placeholder=\"Confirm New Password\"\n              type=\"password\"\n              value={this.state.reset2}\n            />\n            <button\n              onClick={() => this.updatePassword()}\n              style={{\n                marginTop: 20,\n                opacity: works ? 1 : 0.8,\n                pointerEvents: works ? 'auto' : 'none',\n                marginBottom: 0,\n              }}\n            >\n              Confirm Password Change\n            </button>\n            <br />\n            <br />\n            <button onClick={() => this.setState({ resetPassword: false })}>\n              Cancel Reset\n            </button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}