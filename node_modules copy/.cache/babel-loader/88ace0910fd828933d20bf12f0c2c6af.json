{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageSurvey/layout.js\";\nimport React, { Component } from 'react';\nimport Loading from 'components/Loading';\nimport Join from 'components/Join';\nimport { Link } from 'react-router-dom';\nimport { Converter } from 'showdown';\n\nvar PageSurveyLayout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageSurveyLayout, _Component);\n\n  function PageSurveyLayout() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PageSurveyLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PageSurveyLayout)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderMessage = function (completed) {\n      if (_this.props.status === 'live-survey') {\n        return completed ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 11\n          },\n          __self: this\n        }, \"You've completed the survey! Make sure your\", ' ', React.createElement(Link, {\n          to: \"/app/profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 13\n          },\n          __self: this\n        }, \"profile\"), \" is up to date as we calculate your matches by \", React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14\n          },\n          __self: this\n        }, \"Friday, September 20\"), \"!\") : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17\n          },\n          __self: this\n        }, \"Your survey is incomplete!\");\n      } else if (_this.props.status === 'live-processing') {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20\n          },\n          __self: this\n        }, \"The survey is closed! Check back soon for your matches!\");\n      } else if (_this.props.status === 'live-matches') {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, \"The survey is closed!\", ' ', React.createElement(Link, {\n          to: \"/app/results\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }, \"Check out your matches!\"));\n      }\n\n      console.log('none');\n    };\n\n    return _this;\n  }\n\n  _createClass(PageSurveyLayout, [{\n    key: \"renderQuestion\",\n    value: function renderQuestion(question, question_num) {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"Question\",\n        key: question_num,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: converter.makeHtml('<h5>' + question.text + '</h5>')\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), items2.map(function (item2, index2) {\n        var answer_num = item2[0];\n        var answer = question.answers[answer_num];\n        var pressed = // (responses && responses[question_num]) === answer_num;\n        (responses && responses[index1]) === index2;\n        return React.createElement(\"div\", {\n          key: index2,\n          style: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          className: pressed ? 'answer answerpressed' : 'answer',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          onClick: function onClick() {\n            // this.props.updateResponse(question_num, answer_num);\n            _this2.props.updateResponse(index1, pressed ? null : index2);\n          },\n          className: \"radio\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, pressed && React.createElement(\"div\", {\n          className: \"radioinside\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        })), React.createElement(\"button\", {\n          key: answer_num,\n          onClick: function onClick() {\n            // this.props.updateResponse(question_num, answer_num);\n            _this2.props.updateResponse(index1, pressed ? null : index2);\n          },\n          className: pressed ? 'pressed' : '',\n          dangerouslySetInnerHTML: {\n            __html: converter.makeHtml(answer.text)\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.props.responses_requested && !this.props.survey) {\n        return React.createElement(\"div\", {\n          style: {\n            height: 300\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }));\n      }\n\n      if (!this.props.survey || !this.props.survey.name || !this.props.status.includes('live') && this.props.status !== 'development' && !this.props.super) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Currently, there's no survey open. Check back soon!\");\n      }\n\n      var questions = this.props.survey.questions;\n      var responses = this.props.responses || [];\n      var items = Object.keys(questions).map(function (key) {\n        return [key, questions[key].order];\n      }); // Sort the array based on the second element\n\n      items.sort(function (first, second) {\n        return first[1] - second[1];\n      });\n      var completed = Object.keys(responses).length === Object.keys(questions).length;\n      return React.createElement(\"div\", {\n        className: \"PageSurvey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"SURVEY\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Don\\u2019t overthink these questions. They will reveal things that you don't even know about yourself.\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, this.renderMessage(completed)), items.map(function (item, index1) {\n        var question_num = item[0];\n        var question = _this3.props.survey.questions[question_num];\n        var items2 = Object.keys(question.answers || {}).map(function (key) {\n          return [key, question.answers[key].order];\n        }); // Sort the array based on the second element\n\n        items2.sort(function (first, second) {\n          return first[1] - second[1];\n        });\n        var converter = new Converter();\n        return _this3.renderQuestion(question, question_num);\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, this.renderMessage(completed)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(Join, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageSurveyLayout;\n}(Component);\n\nexport { PageSurveyLayout as default };","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageSurvey/layout.js"],"names":["React","Component","Loading","Join","Link","Converter","PageSurveyLayout","renderMessage","completed","props","status","console","log","question","question_num","__html","converter","makeHtml","text","items2","map","item2","index2","answer_num","answer","answers","pressed","responses","index1","display","alignItems","updateResponse","responses_requested","survey","height","name","includes","super","questions","items","Object","keys","key","order","sort","first","second","length","item","renderQuestion"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Loading from 'components/Loading';\nimport Join from 'components/Join';\nimport { Link } from 'react-router-dom';\nimport { Converter } from 'showdown';\n\nexport default class PageSurveyLayout extends Component {\n  renderMessage = completed => {\n    if (this.props.status === 'live-survey') {\n      return completed ? (\n        <div>\n          You've completed the survey! Make sure your{' '}\n          <Link to=\"/app/profile\">profile</Link> is up to date as we calculate\n          your matches by <b>Friday, September 20</b>!\n        </div>\n      ) : (\n        <div>Your survey is incomplete!</div>\n      );\n    } else if (this.props.status === 'live-processing') {\n      return <div>The survey is closed! Check back soon for your matches!</div>;\n    } else if (this.props.status === 'live-matches') {\n      return (\n        <div>\n          The survey is closed!{' '}\n          <Link to=\"/app/results\">Check out your matches!</Link>\n        </div>\n      );\n    }\n\n    console.log('none');\n  };\n\n  renderQuestion(question, question_num) {\n    return (\n      <div className=\"Question\" key={question_num}>\n        <div\n          dangerouslySetInnerHTML={{\n            __html: converter.makeHtml('<h5>' + question.text + '</h5>'),\n          }}\n        />\n        {items2.map((item2, index2) => {\n          let answer_num = item2[0];\n          let answer = question.answers[answer_num];\n          let pressed =\n            // (responses && responses[question_num]) === answer_num;\n            (responses && responses[index1]) === index2;\n          return (\n            <div\n              key={index2}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n              }}\n              className={pressed ? 'answer answerpressed' : 'answer'}\n            >\n              <div\n                onClick={() => {\n                  // this.props.updateResponse(question_num, answer_num);\n                  this.props.updateResponse(\n                    index1,\n                    pressed ? null : index2,\n                  );\n                }}\n                className=\"radio\"\n              >\n                {pressed && <div className=\"radioinside\" />}\n              </div>\n              <button\n                key={answer_num}\n                onClick={() => {\n                  // this.props.updateResponse(question_num, answer_num);\n                  this.props.updateResponse(\n                    index1,\n                    pressed ? null : index2,\n                  );\n                }}\n                className={pressed ? 'pressed' : ''}\n                dangerouslySetInnerHTML={{\n                  __html: converter.makeHtml(answer.text),\n                }}\n              ></button>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  render() {\n    if (!this.props.responses_requested && !this.props.survey) {\n      return (\n        <div style={{ height: 300 }}>\n          <Loading />\n        </div>\n      );\n    }\n\n    if (\n      !this.props.survey ||\n      !this.props.survey.name ||\n      (!this.props.status.includes('live') &&\n        this.props.status !== 'development' &&\n        !this.props.super)\n    ) {\n      return <div>Currently, there's no survey open. Check back soon!</div>;\n    }\n\n    let questions = this.props.survey.questions;\n    let responses = this.props.responses || [];\n\n    var items = Object.keys(questions).map(function(key) {\n      return [key, questions[key].order];\n    });\n\n    // Sort the array based on the second element\n    items.sort(function(first, second) {\n      return first[1] - second[1];\n    });\n\n    var completed =\n      Object.keys(responses).length === Object.keys(questions).length;\n\n    return (\n      <div className=\"PageSurvey\">\n        <div className=\"header\">SURVEY</div>\n        <br />\n        <div>\n          Don’t overthink these questions. They will reveal things that you\n          don't even know about yourself.\n        </div>\n        <br />\n        <div>{this.renderMessage(completed)}</div>\n        {items.map((item, index1) => {\n          let question_num = item[0];\n          let question = this.props.survey.questions[question_num];\n\n          var items2 = Object.keys(question.answers || {}).map(function(key) {\n            return [key, question.answers[key].order];\n          });\n\n          // Sort the array based on the second element\n          items2.sort(function(first, second) {\n            return first[1] - second[1];\n          });\n          let converter = new Converter();\n\n          return (\n            this.renderQuestion(question, question_num)\n          );\n        })}\n        <div>{this.renderMessage(completed)}</div>\n        <br />\n        <Join />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}