{"ast":null,"code":"import _defineProperty from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageResults/index.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, compose } from 'redux';\nimport { firebaseConnect, populate } from 'react-redux-firebase';\nimport PageResultsLayout from './layout';\nimport './styles.scss';\n\nvar PageResults =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageResults, _Component);\n\n  function PageResults() {\n    _classCallCheck(this, PageResults);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PageResults).apply(this, arguments));\n  }\n\n  _createClass(PageResults, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(PageResultsLayout, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageResults;\n}(Component);\n\nvar populates = [{\n  child: 'user1',\n  root: 'users',\n  keyProp: 'id'\n}, {\n  child: 'user2',\n  root: 'users',\n  keyProp: 'id'\n}];\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  var matches1 = populate(state.firebase, 'matches1', populates);\n  var matches2 = populate(state.firebase, 'matches2', populates);\n  return {\n    matches: matches1 && matches2 ? _objectSpread({}, matches1, {}, matches2) : matches1 ? matches1 : matches2,\n    super: state.firebase.profile.super,\n    users: state.firebase.data.users,\n    uid: state.firebase.auth.uid,\n    email: state.firebase.auth.email,\n    name: state.firebase.profile.name,\n    unreadMessage: function unreadMessage(match, uid, status) {\n      props.firebase.update('/matches/' + match, _defineProperty({}, uid, status));\n    }\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\nexport default compose(withRouter, firebaseConnect(function (props) {\n  return [{\n    path: '/matches/',\n    storeAs: 'matches1',\n    queryParams: ['orderByChild=user1', 'equalTo=' + props.uid],\n    populates: populates\n  }, {\n    path: '/matches/',\n    storeAs: 'matches2',\n    queryParams: ['orderByChild=user2', 'equalTo=' + props.uid],\n    populates: populates\n  }];\n}), connect(mapStateToProps, mapDispatchToProps))(PageResults);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageResults/index.js"],"names":["React","Component","withRouter","connect","bindActionCreators","compose","firebaseConnect","populate","PageResultsLayout","PageResults","props","populates","child","root","keyProp","mapStateToProps","state","matches1","firebase","matches2","matches","super","profile","users","data","uid","auth","email","name","unreadMessage","match","status","update","mapDispatchToProps","dispatch","path","storeAs","queryParams"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,EAA6BC,OAA7B,QAA4C,OAA5C;AACA,SAASC,eAAT,EAA0BC,QAA1B,QAA0C,sBAA1C;AACA,OAAOC,iBAAP,MAA8B,UAA9B;AACA,OAAO,eAAP;;IAEMC,W;;;;;;;;;;;;;6BACK;AACP,aAAO,oBAAC,iBAAD,oBAAuB,KAAKC,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;;;EAHuBT,S;;AAM1B,IAAMU,SAAS,GAAG,CAChB;AAAEC,EAAAA,KAAK,EAAE,OAAT;AAAkBC,EAAAA,IAAI,EAAE,OAAxB;AAAiCC,EAAAA,OAAO,EAAE;AAA1C,CADgB,EAEhB;AAAEF,EAAAA,KAAK,EAAE,OAAT;AAAkBC,EAAAA,IAAI,EAAE,OAAxB;AAAiCC,EAAAA,OAAO,EAAE;AAA1C,CAFgB,CAAlB;;AAKA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAQN,KAAR,EAAkB;AACxC,MAAIO,QAAQ,GAAGV,QAAQ,CAACS,KAAK,CAACE,QAAP,EAAiB,UAAjB,EAA6BP,SAA7B,CAAvB;AACA,MAAIQ,QAAQ,GAAGZ,QAAQ,CAACS,KAAK,CAACE,QAAP,EAAiB,UAAjB,EAA6BP,SAA7B,CAAvB;AAEA,SAAO;AACLS,IAAAA,OAAO,EACLH,QAAQ,IAAIE,QAAZ,qBACSF,QADT,MACsBE,QADtB,IAEIF,QAAQ,GACRA,QADQ,GAERE,QAND;AAOLE,IAAAA,KAAK,EAAEL,KAAK,CAACE,QAAN,CAAeI,OAAf,CAAuBD,KAPzB;AAQLE,IAAAA,KAAK,EAAEP,KAAK,CAACE,QAAN,CAAeM,IAAf,CAAoBD,KARtB;AASLE,IAAAA,GAAG,EAAET,KAAK,CAACE,QAAN,CAAeQ,IAAf,CAAoBD,GATpB;AAULE,IAAAA,KAAK,EAAEX,KAAK,CAACE,QAAN,CAAeQ,IAAf,CAAoBC,KAVtB;AAWLC,IAAAA,IAAI,EAAEZ,KAAK,CAACE,QAAN,CAAeI,OAAf,CAAuBM,IAXxB;AAYLC,IAAAA,aAAa,EAAE,uBAACC,KAAD,EAAQL,GAAR,EAAaM,MAAb,EAAwB;AACrCrB,MAAAA,KAAK,CAACQ,QAAN,CAAec,MAAf,CAAsB,cAAcF,KAApC,sBACGL,GADH,EACSM,MADT;AAGD;AAhBI,GAAP;AAkBD,CAtBD;;AAwBA,SAASE,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO9B,kBAAkB,CAAC,EAAD,EAAK8B,QAAL,CAAzB;AACD;;AAED,eAAe7B,OAAO,CACpBH,UADoB,EAEpBI,eAAe,CAAC,UAAAI,KAAK;AAAA,SAAI,CACvB;AACEyB,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,OAAO,EAAE,UAFX;AAGEC,IAAAA,WAAW,EAAE,CAAC,oBAAD,EAAuB,aAAa3B,KAAK,CAACe,GAA1C,CAHf;AAIEd,IAAAA,SAAS,EAATA;AAJF,GADuB,EAOvB;AACEwB,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,OAAO,EAAE,UAFX;AAGEC,IAAAA,WAAW,EAAE,CAAC,oBAAD,EAAuB,aAAa3B,KAAK,CAACe,GAA1C,CAHf;AAIEd,IAAAA,SAAS,EAATA;AAJF,GAPuB,CAAJ;AAAA,CAAN,CAFK,EAgBpBR,OAAO,CAACY,eAAD,EAAkBkB,kBAAlB,CAhBa,CAAP,CAiBbxB,WAjBa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, compose } from 'redux';\nimport { firebaseConnect, populate } from 'react-redux-firebase';\nimport PageResultsLayout from './layout';\nimport './styles.scss';\n\nclass PageResults extends Component {\n  render() {\n    return <PageResultsLayout {...this.props} />;\n  }\n}\n\nconst populates = [\n  { child: 'user1', root: 'users', keyProp: 'id' },\n  { child: 'user2', root: 'users', keyProp: 'id' },\n];\n\nconst mapStateToProps = (state, props) => {\n  let matches1 = populate(state.firebase, 'matches1', populates);\n  let matches2 = populate(state.firebase, 'matches2', populates);\n\n  return {\n    matches:\n      matches1 && matches2\n        ? { ...matches1, ...matches2 }\n        : matches1\n        ? matches1\n        : matches2,\n    super: state.firebase.profile.super,\n    users: state.firebase.data.users,\n    uid: state.firebase.auth.uid,\n    email: state.firebase.auth.email,\n    name: state.firebase.profile.name,\n    unreadMessage: (match, uid, status) => {\n      props.firebase.update('/matches/' + match, {\n        [uid]: status,\n      });\n    },\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\nexport default compose(\n  withRouter,\n  firebaseConnect(props => [\n    {\n      path: '/matches/',\n      storeAs: 'matches1',\n      queryParams: ['orderByChild=user1', 'equalTo=' + props.uid],\n      populates,\n    },\n    {\n      path: '/matches/',\n      storeAs: 'matches2',\n      queryParams: ['orderByChild=user2', 'equalTo=' + props.uid],\n      populates,\n    },\n  ]),\n  connect(mapStateToProps, mapDispatchToProps),\n)(PageResults);\n"]},"metadata":{},"sourceType":"module"}