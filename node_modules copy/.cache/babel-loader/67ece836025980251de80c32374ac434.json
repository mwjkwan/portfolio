{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageAuth/routes/PagePasswordReset.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Route } from 'react-router-dom';\nimport queryString from 'query-string';\nimport Logo from 'components/Logo';\nimport Loading from 'components/Loading';\n\nvar PagePasswordReset =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PagePasswordReset, _Component);\n\n  function PagePasswordReset(props) {\n    var _this;\n\n    _classCallCheck(this, PagePasswordReset);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PagePasswordReset).call(this, props));\n\n    _this.onFormSubmit = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      var email = _this.refs.email.value;\n\n      var auth = _this.props.auth();\n\n      auth.sendPasswordResetEmail(email).then(function (data) {\n        _this.setState({\n          sent: true,\n          loading: false\n        });\n      }).catch(function (error) {\n        _this.setState({\n          message: error.message,\n          loading: false\n        });\n      });\n    };\n\n    _this.onFormSubmitConfirm = function (event, oobCode) {\n      event.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      var password = _this.refs.password.value;\n      var confirmPassword = _this.refs['confirm-password'].value;\n\n      if (password === confirmPassword) {\n        _this.props.confirmPasswordReset(oobCode, password).then(function (data) {\n          window.alert('Password reset confirmed!');\n\n          _this.setState({\n            loading: false\n          });\n\n          _this.props.history.push('/login');\n        }).catch(function (error) {\n          _this.setState({\n            message: error.message,\n            loading: false\n          });\n        });\n      } else {\n        _this.setState({\n          message: 'Passwords do not match'\n        });\n      }\n    };\n\n    _this.renderForm = function () {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: _this.onFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        large: true,\n        flat: true,\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Reset Password\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), !_this.state.sent ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"email\",\n        ref: \"email\",\n        placeholder: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), !_this.state.loading ? React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Reset\") : React.createElement(Loading, {\n        style: {\n          height: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), _this.state.message && React.createElement(\"div\", {\n        className: \"Warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), _this.state.message), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Sent reset link! Check your email! \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }))));\n    };\n\n    _this.renderConfirm = function (oobCode) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          return _this.onFormSubmitConfirm(event, oobCode);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        large: true,\n        flat: true,\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Reset Password\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        ref: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        ref: \"confirm-password\",\n        placeholder: \"Confirm Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), !_this.state.loading ? React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Reset\") : React.createElement(Loading, {\n        style: {\n          height: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), _this.state.message && React.createElement(\"div\", {\n        className: \"Warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), _this.state.message, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      })));\n    };\n\n    _this.state = {\n      message: '',\n      sent: false,\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(PagePasswordReset, [{\n    key: \"render\",\n    value: function render() {\n      var values = queryString.parse(this.props.location.search, {\n        ignoreQueryPrefix: true\n      });\n      return React.createElement(\"div\", {\n        className: \"PagePasswordReset\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, values.oobCode ? this.renderConfirm(values.oobCode) : this.renderForm()), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Already have an account? Log in\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          height: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Create an account\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PagePasswordReset;\n}(Component);\n\nexport { PagePasswordReset as default };","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageAuth/routes/PagePasswordReset.js"],"names":["React","Component","Link","Route","queryString","Logo","Loading","PagePasswordReset","props","onFormSubmit","event","preventDefault","setState","loading","email","refs","value","auth","sendPasswordResetEmail","then","data","sent","catch","error","message","onFormSubmitConfirm","oobCode","password","confirmPassword","confirmPasswordReset","window","alert","history","push","renderForm","state","height","renderConfirm","values","parse","location","search","ignoreQueryPrefix"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Route } from 'react-router-dom';\nimport queryString from 'query-string';\nimport Logo from 'components/Logo';\nimport Loading from 'components/Loading';\n\nexport default class PagePasswordReset extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { message: '', sent: false, loading: false };\n  }\n\n  onFormSubmit = event => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    const email = this.refs.email.value;\n    var auth = this.props.auth();\n    auth\n      .sendPasswordResetEmail(email)\n      .then(data => {\n        this.setState({ sent: true, loading: false });\n      })\n      .catch(error => {\n        this.setState({ message: error.message, loading: false });\n      });\n  };\n\n  onFormSubmitConfirm = (event, oobCode) => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    const password = this.refs.password.value;\n    const confirmPassword = this.refs['confirm-password'].value;\n\n    if (password === confirmPassword) {\n      this.props\n        .confirmPasswordReset(oobCode, password)\n        .then(data => {\n          window.alert('Password reset confirmed!');\n          this.setState({ loading: false });\n          this.props.history.push('/login');\n        })\n        .catch(error => {\n          this.setState({ message: error.message, loading: false });\n        });\n    } else {\n      this.setState({ message: 'Passwords do not match' });\n    }\n  };\n\n  renderForm = () => {\n    return (\n      <div>\n        <form onSubmit={this.onFormSubmit}>\n          <Logo large flat center />\n          <br />\n          <br />\n          <h1>Reset Password</h1>\n          <br />\n          {!this.state.sent ? (\n            <div>\n              <input type=\"email\" ref=\"email\" placeholder=\"email\" />\n              <br />\n              <br />\n              {!this.state.loading ? (\n                <button type=\"submit\">Reset</button>\n              ) : (\n                <Loading style={{ height: 50 }} />\n              )}\n              <br />\n              {this.state.message && (\n                <div className=\"Warning\">\n                  <br />\n                  {this.state.message}\n                </div>\n              )}\n              <br />\n            </div>\n          ) : (\n            <div>\n              Sent reset link! Check your email! <br />\n              <br />\n            </div>\n          )}\n        </form>\n      </div>\n    );\n  };\n\n  renderConfirm = oobCode => {\n    return (\n      <div>\n        <form onSubmit={event => this.onFormSubmitConfirm(event, oobCode)}>\n          <Logo large flat center />\n          <br />\n          <br />\n          <h1>Reset Password</h1>\n          <br />\n          <input type=\"password\" ref=\"password\" placeholder=\"Password\" />\n          <br />\n          <br />\n          <input\n            type=\"password\"\n            ref=\"confirm-password\"\n            placeholder=\"Confirm Password\"\n          />\n          <br />\n          <br />\n          {!this.state.loading ? (\n            <button type=\"submit\">Reset</button>\n          ) : (\n            <Loading style={{ height: 50 }} />\n          )}\n          <br />\n          {this.state.message && (\n            <div className=\"Warning\">\n              <br />\n              {this.state.message}\n              <br />\n            </div>\n          )}\n          <br />\n        </form>\n      </div>\n    );\n  };\n\n  render() {\n    let values = queryString.parse(this.props.location.search, {\n      ignoreQueryPrefix: true,\n    });\n    return (\n      <div className=\"PagePasswordReset\">\n        <div className=\"Box\">\n          {values.oobCode\n            ? this.renderConfirm(values.oobCode)\n            : this.renderForm()}\n        </div>\n        <br />\n        <Link to=\"/login\">Already have an account? Log in</Link>\n        <br />\n        <div style={{ height: 10 }} />\n        <Link to=\"/register\">Create an account</Link>\n        <br />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}