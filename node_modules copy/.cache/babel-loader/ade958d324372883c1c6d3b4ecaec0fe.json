{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/Root.js\";\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport Loading from 'components/Loading';\nimport { PrivateRoute, PublicRoute } from 'components/PrivateRoute';\nimport PageApp from 'pages/PageApp';\nimport PageAuth from 'pages/PageAuth';\nimport PageMain from 'pages/PageMain';\nimport PageOnboard from 'pages/PageOnboard';\nimport RestaurantPortal from 'pages/RestaurantPortal';\nimport SchoolPortal from 'pages/SchoolPortal';\n\nvar RootImpl =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RootImpl, _React$Component);\n\n  function RootImpl() {\n    _classCallCheck(this, RootImpl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RootImpl).apply(this, arguments));\n  }\n\n  _createClass(RootImpl, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          emailVerified = _this$props.emailVerified,\n          isLoaded = _this$props.isLoaded,\n          isLoggedIn = _this$props.isLoggedIn,\n          onboarded = _this$props.onboarded;\n\n      if (!isLoaded) {\n        return React.createElement(\"div\", {\n          style: {\n            margin: '10% auto'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          size: 200,\n          type: \"spin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Root\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(PrivateRoute, {\n        path: \"/app\",\n        component: emailVerified ? onboarded ? PageApp : PageOnboard : PageAuth,\n        isLoggedIn: isLoggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }), React.createElement(PrivateRoute, {\n        path: \"/onboard\",\n        component: PageOnboard,\n        isLoggedIn: isLoggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(PublicRoute, {\n        exact: true,\n        path: \"/\",\n        component: PageMain,\n        isLoggedIn: isLoggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/(login|register|auth|reset)/\",\n        component: PageAuth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/school_portal\",\n        component: SchoolPortal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/restaurant\",\n        component: RestaurantPortal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: function component() {\n          return React.createElement(Redirect, {\n            to: \"/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return RootImpl;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$firebase = state.firebase,\n      auth = _state$firebase.auth,\n      profile = _state$firebase.profile;\n  return {\n    emailVerified: auth.emailVerified,\n    isLoaded: auth.isLoaded && profile.isLoaded,\n    isLoggedIn: auth.uid ? true : false,\n    onboarded: profile.onboarded\n  };\n};\n\nexport default compose(firebaseConnect(), connect(mapStateToProps))(RootImpl);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/Root.js"],"names":["React","connect","compose","Route","Switch","Redirect","firebaseConnect","Loading","PrivateRoute","PublicRoute","PageApp","PageAuth","PageMain","PageOnboard","RestaurantPortal","SchoolPortal","RootImpl","props","emailVerified","isLoaded","isLoggedIn","onboarded","margin","Component","mapStateToProps","state","firebase","auth","profile","uid"],"mappings":";;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,SAASC,eAAT,QAAgC,sBAAhC;AAEA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,yBAA1C;AAEA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,gBAAP,MAA6B,wBAA7B;AACA,OAAOC,YAAP,MAAyB,oBAAzB;;IAEMC,Q;;;;;;;;;;;;;6BACK;AAAA,wBACoD,KAAKC,KADzD;AAAA,UACCC,aADD,eACCA,aADD;AAAA,UACgBC,QADhB,eACgBA,QADhB;AAAA,UAC0BC,UAD1B,eAC0BA,UAD1B;AAAA,UACsCC,SADtC,eACsCA,SADtC;;AAGP,UAAI,CAACF,QAAL,EAAe;AACb,eACE;AAAK,UAAA,KAAK,EAAE;AAAEG,YAAAA,MAAM,EAAE;AAAV,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,OAAD;AAAS,UAAA,IAAI,EAAE,GAAf;AAAoB,UAAA,IAAI,EAAC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAKD;;AAED,aACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,SAAS,EACPJ,aAAa,GAAIG,SAAS,GAAGX,OAAH,GAAaG,WAA1B,GAAyCF,QAH1D;AAKE,QAAA,UAAU,EAAES,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAQE,oBAAC,YAAD;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,SAAS,EAAEP,WAFb;AAGE,QAAA,UAAU,EAAEO,UAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,EAaE,oBAAC,WAAD;AACE,QAAA,KAAK,MADP;AAEE,QAAA,IAAI,EAAC,GAFP;AAGE,QAAA,SAAS,EAAER,QAHb;AAIE,QAAA,UAAU,EAAEQ,UAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAmBE,oBAAC,KAAD;AACE,QAAA,KAAK,MADP;AAEE,QAAA,IAAI,EAAC,+BAFP;AAGE,QAAA,SAAS,EAAET,QAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBF,EAwBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,gBAAZ;AAA6B,QAAA,SAAS,EAAEI,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxBF,EAyBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,aAAZ;AAA0B,QAAA,SAAS,EAAED,gBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzBF,EA0BE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA1BF,CADF,CADF;AAgCD;;;;EA5CoBd,KAAK,CAACuB,S;;AA+C7B,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAAA,wBACLA,KAAK,CAACC,QADD;AAAA,MACvBC,IADuB,mBACvBA,IADuB;AAAA,MACjBC,OADiB,mBACjBA,OADiB;AAG/B,SAAO;AACLV,IAAAA,aAAa,EAAES,IAAI,CAACT,aADf;AAELC,IAAAA,QAAQ,EAAEQ,IAAI,CAACR,QAAL,IAAiBS,OAAO,CAACT,QAF9B;AAGLC,IAAAA,UAAU,EAAEO,IAAI,CAACE,GAAL,GAAW,IAAX,GAAkB,KAHzB;AAILR,IAAAA,SAAS,EAAEO,OAAO,CAACP;AAJd,GAAP;AAMD,CATD;;AAWA,eAAenB,OAAO,CAACI,eAAe,EAAhB,EAAoBL,OAAO,CAACuB,eAAD,CAA3B,CAAP,CAAqDR,QAArD,CAAf","sourcesContent":["import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { firebaseConnect } from 'react-redux-firebase';\n\nimport Loading from 'components/Loading';\nimport { PrivateRoute, PublicRoute } from 'components/PrivateRoute';\n\nimport PageApp from 'pages/PageApp';\nimport PageAuth from 'pages/PageAuth';\nimport PageMain from 'pages/PageMain';\nimport PageOnboard from 'pages/PageOnboard';\nimport RestaurantPortal from 'pages/RestaurantPortal';\nimport SchoolPortal from 'pages/SchoolPortal';\n\nclass RootImpl extends React.Component {\n  render() {\n    const { emailVerified, isLoaded, isLoggedIn, onboarded } = this.props;\n\n    if (!isLoaded) {\n      return (\n        <div style={{ margin: '10% auto' }}>\n          <Loading size={200} type=\"spin\" />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Root\">\n        <Switch>\n          <PrivateRoute\n            path=\"/app\"\n            component={\n              emailVerified ? (onboarded ? PageApp : PageOnboard) : PageAuth\n            }\n            isLoggedIn={isLoggedIn}\n          />\n          <PrivateRoute\n            path=\"/onboard\"\n            component={PageOnboard}\n            isLoggedIn={isLoggedIn}\n          />\n          <PublicRoute\n            exact\n            path=\"/\"\n            component={PageMain}\n            isLoggedIn={isLoggedIn}\n          />\n          <Route\n            exact\n            path=\"/(login|register|auth|reset)/\"\n            component={PageAuth}\n          />\n          <Route path=\"/school_portal\" component={SchoolPortal} />\n          <Route path=\"/restaurant\" component={RestaurantPortal} />\n          <Route component={() => <Redirect to=\"/\" />} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { auth, profile } = state.firebase;\n\n  return {\n    emailVerified: auth.emailVerified,\n    isLoaded: auth.isLoaded && profile.isLoaded,\n    isLoggedIn: auth.uid ? true : false,\n    onboarded: profile.onboarded,\n  };\n};\n\nexport default compose(firebaseConnect(), connect(mapStateToProps))(RootImpl);\n"]},"metadata":{},"sourceType":"module"}