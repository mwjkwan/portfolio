{"ast":null,"code":"import _regeneratorRuntime from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/components/MatchView.js\";\nimport React, { Component } from 'react';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport Loading from 'components/Loading';\n\nvar MatchView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MatchView, _Component);\n\n  function MatchView(props) {\n    var _this;\n\n    _classCallCheck(this, MatchView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MatchView).call(this, props));\n\n    _this.onClick = function _callee() {\n      var _this$props, matchOnClick, profile;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, matchOnClick = _this$props.matchOnClick, profile = _this$props.profile;\n\n              _this.setState({\n                loading: true\n              });\n\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(matchOnClick());\n\n            case 4:\n              _this.setState({\n                loading: false,\n                matched: _this.state.matched || profile.searchMatches > 0\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    _this.state = {\n      loading: false,\n      matched: props.matched\n    };\n    return _this;\n  }\n\n  _createClass(MatchView, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          canDate = _this$props2.canDate,\n          canDateOnClick = _this$props2.canDateOnClick,\n          compatibility = _this$props2.compatibility,\n          counter = _this$props2.counter,\n          description = _this$props2.description,\n          dorm = _this$props2.dorm,\n          email = _this$props2.email,\n          college_to_email = _this$props2.college_to_email,\n          name = _this$props2.name,\n          profile_pic = _this$props2.profile_pic,\n          year = _this$props2.year;\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          matched = _this$state.matched;\n      var emailSuffix = email.split('@')[1];\n      var school = Object.keys(college_to_email).find(function (school) {\n        return college_to_email[school].includes(emailSuffix);\n      }) || '';\n      return React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          marginBottom: 30,\n          maxWidth: 600,\n          position: 'relative'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"profile\",\n        src: profile_pic || require('assets/empty.png'),\n        style: {\n          width: 125,\n          height: 125,\n          objectFit: 'cover',\n          minWidth: 125,\n          background: \"url(\".concat(require('assets/loading.svg'), \")\"),\n          backgroundSize: 'contain',\n          backgroundRepeat: 'no-repeat',\n          backgroundPosition: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"basics\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, !compatibility ? \"\".concat(school.toUpperCase(), \", \").concat(year.toUpperCase(), \", \").concat(dorm.toUpperCase()) : \"\".concat(school.toUpperCase(), \", \").concat(year.toUpperCase(), \", \").concat(dorm.toUpperCase(), \", \").concat(compatibility, \"%\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, !counter ? name : \"\".concat(counter, \". \").concat(name))), React.createElement(\"div\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, description), !canDate ? !loading ? React.createElement(\"button\", {\n        id: matched ? 'see-match' : 'match',\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, matched ? 'SEE MATCH' : 'MATCH') : React.createElement(\"button\", {\n        id: \"match\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Loading, {\n        style: {\n          height: '25px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })) : React.createElement(\"button\", {\n        onClick: canDateOnClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"SCHEDULE FREE DATE\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MatchView;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    profile: state.firebase.profile\n  };\n};\n\nexport default compose(firebaseConnect(), connect(mapStateToProps))(MatchView);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/components/MatchView.js"],"names":["React","Component","firebaseConnect","compose","connect","Loading","MatchView","props","onClick","matchOnClick","profile","setState","loading","matched","state","searchMatches","canDate","canDateOnClick","compatibility","counter","description","dorm","email","college_to_email","name","profile_pic","year","emailSuffix","split","school","Object","keys","find","includes","display","marginBottom","maxWidth","position","require","width","height","objectFit","minWidth","background","backgroundSize","backgroundRepeat","backgroundPosition","toUpperCase","mapStateToProps","firebase"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,OAAP,MAAoB,oBAApB;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,UAKnBC,OALmB,GAKT;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,4BAC0B,MAAKD,KAD/B,EACAE,YADA,eACAA,YADA,EACcC,OADd,eACcA,OADd;;AAER,oBAAKC,QAAL,CAAc;AAAEC,gBAAAA,OAAO,EAAE;AAAX,eAAd;;AAFQ;AAAA,+CAGFH,YAAY,EAHV;;AAAA;AAIR,oBAAKE,QAAL,CAAc;AACZC,gBAAAA,OAAO,EAAE,KADG;AAEZC,gBAAAA,OAAO,EAAE,MAAKC,KAAL,CAAWD,OAAX,IAAsBH,OAAO,CAACK,aAAR,GAAwB;AAF3C,eAAd;;AAJQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALS;;AAEjB,UAAKD,KAAL,GAAa;AAAEF,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,OAAO,EAAEN,KAAK,CAACM;AAAjC,KAAb;AAFiB;AAGlB;;;;6BAYQ;AAAA,yBAaH,KAAKN,KAbF;AAAA,UAELS,OAFK,gBAELA,OAFK;AAAA,UAGLC,cAHK,gBAGLA,cAHK;AAAA,UAILC,aAJK,gBAILA,aAJK;AAAA,UAKLC,OALK,gBAKLA,OALK;AAAA,UAMLC,WANK,gBAMLA,WANK;AAAA,UAOLC,IAPK,gBAOLA,IAPK;AAAA,UAQLC,KARK,gBAQLA,KARK;AAAA,UASLC,gBATK,gBASLA,gBATK;AAAA,UAULC,IAVK,gBAULA,IAVK;AAAA,UAWLC,WAXK,gBAWLA,WAXK;AAAA,UAYLC,IAZK,gBAYLA,IAZK;AAAA,wBAcsB,KAAKZ,KAd3B;AAAA,UAcCF,OAdD,eAcCA,OAdD;AAAA,UAcUC,OAdV,eAcUA,OAdV;AAgBP,UAAMc,WAAW,GAAGL,KAAK,CAACM,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAApB;AACA,UAAMC,MAAM,GACVC,MAAM,CAACC,IAAP,CAAYR,gBAAZ,EAA8BS,IAA9B,CAAmC,UAAAH,MAAM;AAAA,eACvCN,gBAAgB,CAACM,MAAD,CAAhB,CAAyBI,QAAzB,CAAkCN,WAAlC,CADuC;AAAA,OAAzC,KAEK,EAHP;AAKA,aACE;AACE,QAAA,KAAK,EAAE;AACLO,UAAAA,OAAO,EAAE,MADJ;AAELC,UAAAA,YAAY,EAAE,EAFT;AAGLC,UAAAA,QAAQ,EAAE,GAHL;AAILC,UAAAA,QAAQ,EAAE;AAJL,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQE;AACE,QAAA,GAAG,EAAC,SADN;AAEE,QAAA,GAAG,EAAEZ,WAAW,IAAIa,OAAO,CAAC,kBAAD,CAF7B;AAGE,QAAA,KAAK,EAAE;AACLC,UAAAA,KAAK,EAAE,GADF;AAELC,UAAAA,MAAM,EAAE,GAFH;AAGLC,UAAAA,SAAS,EAAE,OAHN;AAILC,UAAAA,QAAQ,EAAE,GAJL;AAKLC,UAAAA,UAAU,gBAASL,OAAO,CAAC,oBAAD,CAAhB,MALL;AAMLM,UAAAA,cAAc,EAAE,SANX;AAOLC,UAAAA,gBAAgB,EAAE,WAPb;AAQLC,UAAAA,kBAAkB,EAAE;AARf,SAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,EAsBE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,CAAC5B,aAAD,aACMW,MAAM,CAACkB,WAAP,EADN,eAC+BrB,IAAI,CAACqB,WAAL,EAD/B,eACsD1B,IAAI,CAAC0B,WAAL,EADtD,cAEMlB,MAAM,CAACkB,WAAP,EAFN,eAE+BrB,IAAI,CAACqB,WAAL,EAF/B,eAEsD1B,IAAI,CAAC0B,WAAL,EAFtD,eAE6E7B,aAF7E,MADH,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,CAACC,OAAD,GAAWK,IAAX,aAAqBL,OAArB,eAAiCK,IAAjC,CADH,CALF,CADF,EA2BE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8BJ,WAA9B,CA3BF,EA4BG,CAACJ,OAAD,GACC,CAACJ,OAAD,GACE;AACE,QAAA,EAAE,EAAEC,OAAO,GAAG,WAAH,GAAiB,OAD9B;AAEE,QAAA,OAAO,EAAE,KAAKL,OAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIGK,OAAO,GAAG,WAAH,GAAiB,OAJ3B,CADF,GAQE;AAAQ,QAAA,EAAE,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAE;AAAE2B,UAAAA,MAAM,EAAE;AAAV,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CATH,GAcC;AAAQ,QAAA,OAAO,EAAEvB,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BA1CJ,CAtBF,EAmEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnEF,EAoEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApEF,CADF;AAwED;;;;EA9GqBhB,S;;AAiHxB,IAAM+C,eAAe,GAAG,SAAlBA,eAAkB,CAAAlC,KAAK,EAAI;AAC/B,SAAO;AAAEJ,IAAAA,OAAO,EAAEI,KAAK,CAACmC,QAAN,CAAevC;AAA1B,GAAP;AACD,CAFD;;AAIA,eAAeP,OAAO,CAACD,eAAe,EAAhB,EAAoBE,OAAO,CAAC4C,eAAD,CAA3B,CAAP,CAAqD1C,SAArD,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport Loading from 'components/Loading';\n\nclass MatchView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: false, matched: props.matched };\n  }\n\n  onClick = async () => {\n    const { matchOnClick, profile } = this.props;\n    this.setState({ loading: true });\n    await matchOnClick();\n    this.setState({\n      loading: false,\n      matched: this.state.matched || profile.searchMatches > 0,\n    });\n  };\n\n  render() {\n    const {\n      canDate,\n      canDateOnClick,\n      compatibility,\n      counter,\n      description,\n      dorm,\n      email,\n      college_to_email,\n      name,\n      profile_pic,\n      year,\n    } = this.props;\n    const { loading, matched } = this.state;\n\n    const emailSuffix = email.split('@')[1];\n    const school =\n      Object.keys(college_to_email).find(school =>\n        college_to_email[school].includes(emailSuffix),\n      ) || '';\n\n    return (\n      <div\n        style={{\n          display: 'flex',\n          marginBottom: 30,\n          maxWidth: 600,\n          position: 'relative',\n        }}\n      >\n        <img\n          alt=\"profile\"\n          src={profile_pic || require('assets/empty.png')}\n          style={{\n            width: 125,\n            height: 125,\n            objectFit: 'cover',\n            minWidth: 125,\n            background: `url(${require('assets/loading.svg')})`,\n            backgroundSize: 'contain',\n            backgroundRepeat: 'no-repeat',\n            backgroundPosition: 'center',\n          }}\n        />\n        <div className=\"info\">\n          <div className=\"basics\">\n            {!compatibility\n              ? `${school.toUpperCase()}, ${year.toUpperCase()}, ${dorm.toUpperCase()}`\n              : `${school.toUpperCase()}, ${year.toUpperCase()}, ${dorm.toUpperCase()}, ${compatibility}%`}\n            <br />\n            <div className=\"name\">\n              {!counter ? name : `${counter}. ${name}`}\n            </div>\n            {/* <div className=\"icons\">\n          <Link\n            id=\"facebook\"\n            to={this.props.to ? this.props.to : '/'}\n          >\n            <img\n              src={require('assets/facebook.png')}\n              style={{ width: '31px', height: '31px' }}\n            />\n          </Link>\n          <Link id=\"spotify\" to={this.props.to ? this.props.to : '/'}>\n            <img\n              src={require('assets/spotify.png')}\n              style={{ width: '35px', height: '35px' }}\n            />\n          </Link>\n        </div> */}\n          </div>\n          <div className=\"description\">{description}</div>\n          {!canDate ? (\n            !loading ? (\n              <button\n                id={matched ? 'see-match' : 'match'}\n                onClick={this.onClick}\n              >\n                {matched ? 'SEE MATCH' : 'MATCH'}\n              </button>\n            ) : (\n              <button id=\"match\">\n                <Loading style={{ height: '25px' }} />\n              </button>\n            )\n          ) : (\n            <button onClick={canDateOnClick}>SCHEDULE FREE DATE</button>\n          )}\n        </div>\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { profile: state.firebase.profile };\n};\n\nexport default compose(firebaseConnect(), connect(mapStateToProps))(MatchView);\n"]},"metadata":{},"sourceType":"module"}