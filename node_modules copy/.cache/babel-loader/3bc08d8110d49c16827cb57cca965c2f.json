{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageSurvey/layout.js\";\nimport React, { Component } from 'react';\nimport Loading from 'components/Loading';\nimport Join from 'components/Join';\nimport { Link } from 'react-router-dom';\nimport { Converter } from 'showdown';\n\nvar PageSurveyLayout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageSurveyLayout, _Component);\n\n  function PageSurveyLayout() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PageSurveyLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PageSurveyLayout)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderMessage = function (completed) {\n      if (_this.props.status === 'live-survey') {\n        return completed ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 11\n          },\n          __self: this\n        }, \"You've completed the survey! Make sure your\", ' ', React.createElement(Link, {\n          to: \"/app/profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 13\n          },\n          __self: this\n        }, \"profile\"), \" is up to date as we calculate your matches by \", React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14\n          },\n          __self: this\n        }, \"Friday, September 20\"), \"!\") : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17\n          },\n          __self: this\n        }, \"Your survey is incomplete!\");\n      } else if (_this.props.status === 'live-processing') {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20\n          },\n          __self: this\n        }, \"The survey is closed! Check back soon for your matches!\");\n      } else if (_this.props.status === 'live-matches') {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, \"The survey is closed!\", ' ', React.createElement(Link, {\n          to: \"/app/results\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }, \"Check out your matches!\"));\n      }\n\n      console.log('none');\n    };\n\n    return _this;\n  }\n\n  _createClass(PageSurveyLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (!this.props.responses_requested && !this.props.survey) {\n        return React.createElement(\"div\", {\n          style: {\n            height: 300\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }));\n      }\n\n      if (!this.props.survey || !this.props.survey.name || !this.props.status.includes('live') && this.props.status !== 'development' && !this.props.super) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"Currently, there's no survey open. Check back soon!\");\n      }\n\n      var questions = this.props.survey.questions;\n      console.log(questions);\n      var responses = this.props.responses || [];\n      var items = Object.keys(questions).map(function (key) {\n        return [key, questions[key].order];\n      }); // Sort the array based on the second element\n\n      items.sort(function (first, second) {\n        return first[1] - second[1];\n      });\n      var completed = Object.keys(responses).length === Object.keys(questions).length;\n      return React.createElement(\"div\", {\n        className: \"PageSurvey\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"SURVEY\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Don\\u2019t overthink these questions. They will reveal things that you don't even know about yourself.\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.renderMessage(completed)), items.map(function (item, index1) {\n        var question_num = item[0];\n        var question = _this2.props.survey.questions[question_num];\n        var items2 = Object.keys(question.answers || {}).map(function (key) {\n          return [key, question.answers[key].order];\n        }); // Sort the array based on the second element\n\n        items2.sort(function (first, second) {\n          return first[1] - second[1];\n        });\n        var converter = new Converter();\n        return React.createElement(\"div\", {\n          className: \"Question\",\n          key: question_num,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: converter.makeHtml('<h5>' + question.text + '</h5>')\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }), items2.map(function (item2, index2) {\n          var answer_num = item2[0];\n          var answer = question.answers[answer_num];\n          var pressed = // (responses && responses[question_num]) === answer_num;\n          (responses && responses[index1]) === index2;\n          return React.createElement(\"div\", {\n            key: index2,\n            style: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            className: pressed ? 'answer answerpressed' : 'answer',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            onClick: function onClick() {\n              // this.props.updateResponse(question_num, answer_num);\n              _this2.props.updateResponse(index1, pressed ? null : index2);\n            },\n            className: \"radio\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, pressed && React.createElement(\"div\", {\n            className: \"radioinside\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          })), React.createElement(\"button\", {\n            key: answer_num,\n            onClick: function onClick() {\n              // this.props.updateResponse(question_num, answer_num);\n              _this2.props.updateResponse(index1, pressed ? null : index2);\n            },\n            className: pressed ? 'pressed' : '',\n            dangerouslySetInnerHTML: {\n              __html: converter.makeHtml(answer.text)\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }));\n        }));\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, this.renderMessage(completed)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(Join, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageSurveyLayout;\n}(Component);\n\nexport { PageSurveyLayout as default };","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageSurvey/layout.js"],"names":["React","Component","Loading","Join","Link","Converter","PageSurveyLayout","renderMessage","completed","props","status","console","log","responses_requested","survey","height","name","includes","super","questions","responses","items","Object","keys","map","key","order","sort","first","second","length","item","index1","question_num","question","items2","answers","converter","__html","makeHtml","text","item2","index2","answer_num","answer","pressed","display","alignItems","updateResponse"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Loading from 'components/Loading';\nimport Join from 'components/Join';\nimport { Link } from 'react-router-dom';\nimport { Converter } from 'showdown';\n\nexport default class PageSurveyLayout extends Component {\n  renderMessage = completed => {\n    if (this.props.status === 'live-survey') {\n      return completed ? (\n        <div>\n          You've completed the survey! Make sure your{' '}\n          <Link to=\"/app/profile\">profile</Link> is up to date as we calculate\n          your matches by <b>Friday, September 20</b>!\n        </div>\n      ) : (\n        <div>Your survey is incomplete!</div>\n      );\n    } else if (this.props.status === 'live-processing') {\n      return <div>The survey is closed! Check back soon for your matches!</div>;\n    } else if (this.props.status === 'live-matches') {\n      return (\n        <div>\n          The survey is closed!{' '}\n          <Link to=\"/app/results\">Check out your matches!</Link>\n        </div>\n      );\n    }\n\n    console.log('none');\n  };\n\n  render() {\n    if (!this.props.responses_requested && !this.props.survey) {\n      return (\n        <div style={{ height: 300 }}>\n          <Loading />\n        </div>\n      );\n    }\n\n    if (\n      !this.props.survey ||\n      !this.props.survey.name ||\n      (!this.props.status.includes('live') &&\n        this.props.status !== 'development' &&\n        !this.props.super)\n    ) {\n      return <div>Currently, there's no survey open. Check back soon!</div>;\n    }\n\n    let questions = this.props.survey.questions;\n    console.log(questions);\n    let responses = this.props.responses || [];\n\n    var items = Object.keys(questions).map(function(key) {\n      return [key, questions[key].order];\n    });\n\n    // Sort the array based on the second element\n    items.sort(function(first, second) {\n      return first[1] - second[1];\n    });\n\n    var completed =\n      Object.keys(responses).length === Object.keys(questions).length;\n\n    return (\n      <div className=\"PageSurvey\">\n        <div className=\"header\">SURVEY</div>\n        <br />\n        <div>\n          Don’t overthink these questions. They will reveal things that you\n          don't even know about yourself.\n        </div>\n        <br />\n        <div>{this.renderMessage(completed)}</div>\n        {items.map((item, index1) => {\n          let question_num = item[0];\n          let question = this.props.survey.questions[question_num];\n\n          var items2 = Object.keys(question.answers || {}).map(function(key) {\n            return [key, question.answers[key].order];\n          });\n\n          // Sort the array based on the second element\n          items2.sort(function(first, second) {\n            return first[1] - second[1];\n          });\n          let converter = new Converter();\n\n          return (\n            <div className=\"Question\" key={question_num}>\n              <div\n                dangerouslySetInnerHTML={{\n                  __html: converter.makeHtml('<h5>' + question.text + '</h5>'),\n                }}\n              />\n              {items2.map((item2, index2) => {\n                let answer_num = item2[0];\n                let answer = question.answers[answer_num];\n                let pressed =\n                  // (responses && responses[question_num]) === answer_num;\n                  (responses && responses[index1]) === index2;\n                return (\n                  <div\n                    key={index2}\n                    style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                    }}\n                    className={pressed ? 'answer answerpressed' : 'answer'}\n                  >\n                    <div\n                      onClick={() => {\n                        // this.props.updateResponse(question_num, answer_num);\n                        this.props.updateResponse(\n                          index1,\n                          pressed ? null : index2,\n                        );\n                      }}\n                      className=\"radio\"\n                    >\n                      {pressed && <div className=\"radioinside\" />}\n                    </div>\n                    <button\n                      key={answer_num}\n                      onClick={() => {\n                        // this.props.updateResponse(question_num, answer_num);\n                        this.props.updateResponse(\n                          index1,\n                          pressed ? null : index2,\n                        );\n                      }}\n                      className={pressed ? 'pressed' : ''}\n                      dangerouslySetInnerHTML={{\n                        __html: converter.makeHtml(answer.text),\n                      }}\n                    ></button>\n                  </div>\n                );\n              })}\n            </div>\n          );\n        })}\n        <div>{this.renderMessage(completed)}</div>\n        <br />\n        <Join />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}