{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/SchoolPortal/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { bindActionCreators } from 'redux';\nimport { firestoreConnect, firebaseConnect, isLoaded } from 'react-redux-firebase';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Sidebar from 'components/Sidebar';\nimport NavigationBar from './NavigationBar.js';\nimport Loading from 'components/Loading';\nimport PageLogin from 'components/Login';\n\nvar SchoolPortal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SchoolPortal, _Component);\n\n  function SchoolPortal() {\n    _classCallCheck(this, SchoolPortal);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SchoolPortal).apply(this, arguments));\n  }\n\n  _createClass(SchoolPortal, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          email = _this$props.email,\n          isLoggedIn = _this$props.isLoggedIn,\n          loginUser = _this$props.loginUser,\n          schoolAdmins = _this$props.schoolAdmins;\n\n      if (!isLoaded(this.props.schoolAdmins)) {\n        return React.createElement(\"div\", {\n          style: {\n            height: 200\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }));\n      }\n\n      var school = schoolAdmins.admins_to_school[email];\n\n      if (!isLoggedIn) {\n        return React.createElement(PageLogin, {\n          loginUser: loginUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        });\n      }\n\n      if (!school) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"PageSchool\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        leftSidebar: React.createElement(NavigationBar, {\n          admin: this.props.admin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/school_portal\",\n        render: function render() {\n          return React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, \"You are in!\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/school_portal/survey\",\n        render: function render() {\n          return React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, \"yelloooo\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: function component() {\n          return React.createElement(Redirect, {\n            to: \"/school_portal\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SchoolPortal;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    loginUser: props.firebase.login,\n    isLoggedIn: state.firebase.auth.uid ? true : false,\n    email: state.firebase.auth.email,\n    schoolAdmins: state.firestore.data.school_admins\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\nexport default compose(firebaseConnect(), firestoreConnect(function () {\n  return [{\n    collection: 'portals',\n    doc: 'school_admins',\n    storeAs: 'school_admins'\n  }];\n}), connect(mapStateToProps, mapDispatchToProps))(SchoolPortal);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/SchoolPortal/index.js"],"names":["React","Component","connect","compose","bindActionCreators","firestoreConnect","firebaseConnect","isLoaded","Route","Switch","Redirect","Sidebar","NavigationBar","Loading","PageLogin","SchoolPortal","props","email","isLoggedIn","loginUser","schoolAdmins","height","school","admins_to_school","admin","mapStateToProps","state","firebase","login","auth","uid","firestore","data","school_admins","mapDispatchToProps","dispatch","collection","doc","storeAs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { bindActionCreators } from 'redux';\nimport {\n  firestoreConnect,\n  firebaseConnect,\n  isLoaded,\n} from 'react-redux-firebase';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport Sidebar from 'components/Sidebar';\nimport NavigationBar from './NavigationBar.js';\n\nimport Loading from 'components/Loading';\nimport PageLogin from 'components/Login';\n\nclass SchoolPortal extends Component {\n  render() {\n    const { email, isLoggedIn, loginUser, schoolAdmins } = this.props;\n\n    if (!isLoaded(this.props.schoolAdmins)) {\n      return (\n        <div style={{ height: 200 }}>\n          <Loading />\n        </div>\n      );\n    }\n\n    const school = schoolAdmins.admins_to_school[email];\n\n    if (!isLoggedIn) {\n      return <PageLogin loginUser={loginUser} />;\n    }\n    if (!school) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"PageSchool\">\n        <Sidebar leftSidebar={<NavigationBar admin={this.props.admin} />}>\n          <Switch>\n            <Route\n              exact\n              path=\"/school_portal\"\n              render={() => {\n                return <h1>You are in!</h1>;\n              }}\n            />\n            <Route\n              exact\n              path=\"/school_portal/survey\"\n              render={() => <h1>yelloooo</h1>}\n            />\n            <Route component={() => <Redirect to=\"/school_portal\" />} />\n          </Switch>\n        </Sidebar>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    loginUser: props.firebase.login,\n    isLoggedIn: state.firebase.auth.uid ? true : false,\n    email: state.firebase.auth.email,\n    schoolAdmins: state.firestore.data.school_admins,\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\nexport default compose(\n  firebaseConnect(),\n  firestoreConnect(() => [\n    {\n      collection: 'portals',\n      doc: 'school_admins',\n      storeAs: 'school_admins',\n    },\n  ]),\n  connect(mapStateToProps, mapDispatchToProps),\n)(SchoolPortal);\n"]},"metadata":{},"sourceType":"module"}