{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/Root.js\";\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport Loading from 'components/Loading';\nimport { PrivateRoute, PublicRoute } from 'components/PrivateRoute';\nimport PageApp from 'pages/PageApp';\nimport PageAuth from 'pages/PageAuth';\nimport PageMain from 'pages/PageMain';\nimport PageOnboard from 'pages/PageOnboard';\nimport RestaurantPortal from 'pages/RestaurantPortal';\nimport SchoolPortal from 'pages/SchoolPortal';\n\nvar RootImpl =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RootImpl, _React$Component);\n\n  function RootImpl() {\n    _classCallCheck(this, RootImpl);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RootImpl).apply(this, arguments));\n  }\n\n  _createClass(RootImpl, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          emailVerified = _this$props.emailVerified,\n          isLoaded = _this$props.isLoaded,\n          onboarded = _this$props.onboarded;\n\n      if (!isLoaded) {\n        return React.createElement(\"div\", {\n          style: {\n            margin: '10% auto'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          size: 200,\n          type: \"spin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"Root\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(PrivateRoute, {\n        path: \"/app\",\n        component: emailVerified ? onboarded ? PageApp : PageOnboard : PageAuth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }), React.createElement(PublicRoute, {\n        exact: true,\n        path: \"/\",\n        component: PageMain,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/(auth|login|register|reset)/\",\n        component: PageAuth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/school_portal\",\n        component: SchoolPortal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/restaurant\",\n        component: RestaurantPortal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: function component() {\n          return React.createElement(Redirect, {\n            to: \"/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return RootImpl;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$firebase = state.firebase,\n      auth = _state$firebase.auth,\n      profile = _state$firebase.profile;\n  return {\n    emailVerified: auth.emailVerified,\n    isLoaded: auth.isLoaded && profile.isLoaded,\n    onboarded: profile.onboarded\n  };\n};\n\nexport default compose(firebaseConnect(), connect(mapStateToProps))(RootImpl);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/Root.js"],"names":["React","connect","compose","Route","Switch","Redirect","firebaseConnect","Loading","PrivateRoute","PublicRoute","PageApp","PageAuth","PageMain","PageOnboard","RestaurantPortal","SchoolPortal","RootImpl","props","emailVerified","isLoaded","onboarded","margin","Component","mapStateToProps","state","firebase","auth","profile"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { firebaseConnect } from 'react-redux-firebase';\n\nimport Loading from 'components/Loading';\nimport { PrivateRoute, PublicRoute } from 'components/PrivateRoute';\n\nimport PageApp from 'pages/PageApp';\nimport PageAuth from 'pages/PageAuth';\nimport PageMain from 'pages/PageMain';\nimport PageOnboard from 'pages/PageOnboard';\nimport RestaurantPortal from 'pages/RestaurantPortal';\nimport SchoolPortal from 'pages/SchoolPortal';\n\nclass RootImpl extends React.Component {\n  render() {\n    const { emailVerified, isLoaded, onboarded } = this.props;\n\n    if (!isLoaded) {\n      return (\n        <div style={{ margin: '10% auto' }}>\n          <Loading size={200} type=\"spin\" />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Root\">\n        <Switch>\n          <PrivateRoute\n            path=\"/app\"\n            component={\n              emailVerified ? (onboarded ? PageApp : PageOnboard) : PageAuth\n            }\n          />\n          <PublicRoute exact path=\"/\" component={PageMain} />\n          <Route\n            exact\n            path=\"/(auth|login|register|reset)/\"\n            component={PageAuth}\n          />\n          <Route path=\"/school_portal\" component={SchoolPortal} />\n          <Route path=\"/restaurant\" component={RestaurantPortal} />\n          <Route component={() => <Redirect to=\"/\" />} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { auth, profile } = state.firebase;\n\n  return {\n    emailVerified: auth.emailVerified,\n    isLoaded: auth.isLoaded && profile.isLoaded,\n    onboarded: profile.onboarded,\n  };\n};\n\nexport default compose(firebaseConnect(), connect(mapStateToProps))(RootImpl);\n"]},"metadata":{},"sourceType":"module"}