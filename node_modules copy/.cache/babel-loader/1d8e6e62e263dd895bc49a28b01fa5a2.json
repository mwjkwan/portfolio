{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/SchoolPortal/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect, firebaseConnect, isLoaded } from 'react-redux-firebase';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Sidebar from 'components/Sidebar';\nimport NavigationBar from './NavigationBar';\nimport Home from './Home';\nimport Profile from './Profile';\nimport Loading from 'components/Loading';\nimport PageLogin from 'components/Login';\n\nvar SchoolPortal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SchoolPortal, _Component);\n\n  function SchoolPortal() {\n    _classCallCheck(this, SchoolPortal);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SchoolPortal).apply(this, arguments));\n  }\n\n  _createClass(SchoolPortal, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          email = _this$props.email,\n          isLoggedIn = _this$props.isLoggedIn,\n          loginUser = _this$props.loginUser,\n          schoolAdmins = _this$props.schoolAdmins;\n\n      if (!isLoaded(this.props.schoolAdmins)) {\n        return React.createElement(\"div\", {\n          style: {\n            height: 200\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }));\n      }\n\n      var school = schoolAdmins.admins_to_school[email];\n\n      if (!isLoggedIn) {\n        return React.createElement(PageLogin, {\n          loginUser: loginUser,\n          title: \"University Portal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        });\n      }\n\n      if (!school) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"PageSchool\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        leftSidebar: React.createElement(NavigationBar, {\n          admin: this.props.admin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/school_portal\",\n        component: Home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/school_portal/school\",\n        render: function render() {\n          return React.createElement(Profile, {\n            school: school,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/school_portal/survey\",\n        render: function render() {\n          return React.createElement(\"h1\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, \"yelloooo\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: function component() {\n          return React.createElement(Redirect, {\n            to: \"/school_portal\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SchoolPortal;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    email: state.firebase.auth.email,\n    isLoggedIn: state.firebase.auth.uid ? true : false,\n    loginUser: props.firebase.login,\n    schoolAdmins: state.firestore.data.school_admins\n  };\n};\n\nexport default compose(firebaseConnect(), firestoreConnect(function () {\n  return [{\n    collection: 'portals',\n    doc: 'school_admins',\n    storeAs: 'school_admins'\n  }];\n}), connect(mapStateToProps))(SchoolPortal);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/SchoolPortal/index.js"],"names":["React","Component","connect","compose","firestoreConnect","firebaseConnect","isLoaded","Route","Switch","Redirect","Sidebar","NavigationBar","Home","Profile","Loading","PageLogin","SchoolPortal","props","email","isLoggedIn","loginUser","schoolAdmins","height","school","admins_to_school","admin","mapStateToProps","state","firebase","auth","uid","login","firestore","data","school_admins","collection","doc","storeAs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport {\n  firestoreConnect,\n  firebaseConnect,\n  isLoaded,\n} from 'react-redux-firebase';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport Sidebar from 'components/Sidebar';\nimport NavigationBar from './NavigationBar';\nimport Home from './Home';\nimport Profile from './Profile';\n\nimport Loading from 'components/Loading';\nimport PageLogin from 'components/Login';\n\nclass SchoolPortal extends Component {\n  render() {\n    const { email, isLoggedIn, loginUser, schoolAdmins } = this.props;\n\n    if (!isLoaded(this.props.schoolAdmins)) {\n      return (\n        <div style={{ height: 200 }}>\n          <Loading />\n        </div>\n      );\n    }\n\n    const school = schoolAdmins.admins_to_school[email];\n\n    if (!isLoggedIn) {\n      return <PageLogin loginUser={loginUser} title=\"University Portal\" />;\n    }\n    if (!school) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"PageSchool\">\n        <Sidebar leftSidebar={<NavigationBar admin={this.props.admin} />}>\n          <Switch>\n            <Route exact path=\"/school_portal\" component={Home} />\n            <Route\n              exact\n              path=\"/school_portal/school\"\n              render={() => (\n                <Profile school={school} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/school_portal/survey\"\n              render={() => <h1>yelloooo</h1>}\n            />\n            <Route component={() => <Redirect to=\"/school_portal\" />} />\n          </Switch>\n        </Sidebar>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    email: state.firebase.auth.email,\n    isLoggedIn: state.firebase.auth.uid ? true : false,\n    loginUser: props.firebase.login,\n    schoolAdmins: state.firestore.data.school_admins,\n  };\n};\n\nexport default compose(\n  firebaseConnect(),\n  firestoreConnect(() => [\n    {\n      collection: 'portals',\n      doc: 'school_admins',\n      storeAs: 'school_admins',\n    },\n  ]),\n  connect(mapStateToProps),\n)(SchoolPortal);\n"]},"metadata":{},"sourceType":"module"}