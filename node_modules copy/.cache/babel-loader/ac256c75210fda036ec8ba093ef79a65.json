{"ast":null,"code":"import _defineProperty from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageSurvey/index.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport PageSurveyLayout from './layout';\nimport './styles.scss';\n\nvar PageSurvey =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageSurvey, _Component);\n\n  function PageSurvey() {\n    _classCallCheck(this, PageSurvey);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PageSurvey).apply(this, arguments));\n  }\n\n  _createClass(PageSurvey, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(PageSurveyLayout, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PageSurvey;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  var superUser = state.firebase.profile.superUser;\n  return {\n    updateResponse: function updateResponse(question_id, response_id) {\n      if (props.status === 'live-survey' || superUser || props.status === 'development') {\n        props.firebase.update('/responses/' + props.survey + '/' + props.uid, _defineProperty({}, question_id, response_id));\n      }\n    },\n    responses: state.firebase.data.responses,\n    responses_requested: state.firebase.requested.responses,\n    survey: state.firebase.data.survey,\n    super: superUser\n  };\n};\n\nexport default compose(withRouter, firebaseConnect(function (props) {\n  return [{\n    path: '/surveys/' + props.survey,\n    storeAs: 'survey'\n  }, {\n    path: '/responses/' + props.survey + '/' + props.uid,\n    storeAs: 'responses'\n  }];\n}), connect(mapStateToProps))(PageSurvey);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageSurvey/index.js"],"names":["React","Component","withRouter","connect","compose","firebaseConnect","PageSurveyLayout","PageSurvey","props","mapStateToProps","state","superUser","firebase","profile","updateResponse","question_id","response_id","status","update","survey","uid","responses","data","responses_requested","requested","super","path","storeAs"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,OAAOC,gBAAP,MAA6B,UAA7B;AACA,OAAO,eAAP;;IAEMC,U;;;;;;;;;;;;;6BACK;AACP,aAAO,oBAAC,gBAAD,oBAAsB,KAAKC,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;;;EAHsBP,S;;AAMzB,IAAMQ,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAQF,KAAR,EAAkB;AACxC,MAAIG,SAAS,GAAGD,KAAK,CAACE,QAAN,CAAeC,OAAf,CAAuBF,SAAvC;AACA,SAAO;AACLG,IAAAA,cAAc,EAAE,wBAACC,WAAD,EAAcC,WAAd,EAA8B;AAC5C,UACER,KAAK,CAACS,MAAN,KAAiB,aAAjB,IACAN,SADA,IAEAH,KAAK,CAACS,MAAN,KAAiB,aAHnB,EAIE;AACAT,QAAAA,KAAK,CAACI,QAAN,CAAeM,MAAf,CAAsB,gBAAgBV,KAAK,CAACW,MAAtB,GAA+B,GAA/B,GAAqCX,KAAK,CAACY,GAAjE,sBACGL,WADH,EACiBC,WADjB;AAGD;AACF,KAXI;AAYLK,IAAAA,SAAS,EAAEX,KAAK,CAACE,QAAN,CAAeU,IAAf,CAAoBD,SAZ1B;AAaLE,IAAAA,mBAAmB,EAAEb,KAAK,CAACE,QAAN,CAAeY,SAAf,CAAyBH,SAbzC;AAcLF,IAAAA,MAAM,EAAET,KAAK,CAACE,QAAN,CAAeU,IAAf,CAAoBH,MAdvB;AAeLM,IAAAA,KAAK,EAAEd;AAfF,GAAP;AAiBD,CAnBD;;AAqBA,eAAeP,OAAO,CACpBF,UADoB,EAEpBG,eAAe,CAAC,UAAAG,KAAK;AAAA,SAAI,CACvB;AACEkB,IAAAA,IAAI,EAAE,cAAclB,KAAK,CAACW,MAD5B;AAEEQ,IAAAA,OAAO,EAAE;AAFX,GADuB,EAKvB;AACED,IAAAA,IAAI,EAAE,gBAAgBlB,KAAK,CAACW,MAAtB,GAA+B,GAA/B,GAAqCX,KAAK,CAACY,GADnD;AAEEO,IAAAA,OAAO,EAAE;AAFX,GALuB,CAAJ;AAAA,CAAN,CAFK,EAYpBxB,OAAO,CAACM,eAAD,CAZa,CAAP,CAabF,UAba,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport PageSurveyLayout from './layout';\nimport './styles.scss';\n\nclass PageSurvey extends Component {\n  render() {\n    return <PageSurveyLayout {...this.props} />;\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  let superUser = state.firebase.profile.superUser;\n  return {\n    updateResponse: (question_id, response_id) => {\n      if (\n        props.status === 'live-survey' ||\n        superUser ||\n        props.status === 'development'\n      ) {\n        props.firebase.update('/responses/' + props.survey + '/' + props.uid, {\n          [question_id]: response_id,\n        });\n      }\n    },\n    responses: state.firebase.data.responses,\n    responses_requested: state.firebase.requested.responses,\n    survey: state.firebase.data.survey,\n    super: superUser,\n  };\n};\n\nexport default compose(\n  withRouter,\n  firebaseConnect(props => [\n    {\n      path: '/surveys/' + props.survey,\n      storeAs: 'survey',\n    },\n    {\n      path: '/responses/' + props.survey + '/' + props.uid,\n      storeAs: 'responses',\n    },\n  ]),\n  connect(mapStateToProps),\n)(PageSurvey);\n"]},"metadata":{},"sourceType":"module"}