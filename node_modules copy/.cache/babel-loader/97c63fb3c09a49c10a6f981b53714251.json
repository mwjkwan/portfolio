{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageApp.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\nimport { firestoreConnect, firebaseConnect } from 'react-redux-firebase';\nimport { isLoaded } from 'react-redux-firebase';\nimport { Route } from 'react-router-dom';\nimport Sidebar from 'components/Sidebar';\nimport Loading from 'components/Loading';\nimport NavigationBar from 'pages/NavigationBar';\nimport PageAbout from 'pages/PageAbout';\nimport PageFeedback from 'pages/PageFeedback';\nimport PageHome from 'pages/PageHome';\nimport PageOnboard from 'pages/PageOnboard';\nimport PageProfile from 'pages/PageProfile';\nimport PageResults from 'pages/PageResults';\nimport PageSettings from 'pages/PageSettings';\nimport PageSurvey from 'pages/PageSurvey';\nimport PageTeam from 'pages/PageTeam';\nimport PageArchives from 'pages/PageArchives'; // import PageFAQ from 'pages/PageApp/routes/PageFAQ';\n\nvar PageApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageApp, _Component);\n\n  function PageApp() {\n    _classCallCheck(this, PageApp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PageApp).apply(this, arguments));\n  }\n\n  _createClass(PageApp, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          email = _this$props.email,\n          onboarded = _this$props.onboarded,\n          settings = _this$props.settings,\n          uid = _this$props.uid;\n\n      if (!isLoaded(settings)) {\n        return React.createElement(\"div\", {\n          style: {\n            margin: '10% auto'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          size: 200,\n          type: \"spin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }));\n      }\n\n      var suffix = email.split('@')[1];\n      var college = settings.email_to_college[suffix];\n      var status = settings.status || 'offline';\n      var dorms = settings.college_to_dorm[college] || [null];\n      var name = settings.names[college] || college;\n\n      if (!onboarded) {\n        return React.createElement(PageOnboard, {\n          settings: settings,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"PageApp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        leftSidebar: React.createElement(NavigationBar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/app\",\n        component: function component() {\n          return React.createElement(PageHome, {\n            name: name,\n            status: status,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/app/survey\",\n        render: function render() {\n          return React.createElement(PageSurvey, {\n            status: status,\n            surveyKey: college,\n            uid: uid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/app/results\",\n        render: function render() {\n          return React.createElement(PageResults, {\n            email_to_college: settings.email_to_college,\n            status: status,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/app/profile\",\n        render: function render() {\n          return React.createElement(PageProfile, {\n            dorms: dorms,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/app/team\",\n        render: function render() {\n          return React.createElement(PageTeam, {\n            college: college,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/app/settings\",\n        component: PageSettings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/app/feedback\",\n        component: PageFeedback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/app/faq\",\n        component: PageAbout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/app/archives\",\n        component: PageArchives,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PageApp;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, _props) {\n  var firebase = state.firebase,\n      firestore = state.firestore;\n  var auth = firebase.auth,\n      profile = firebase.profile;\n  return {\n    email: auth.email,\n    onboarded: profile.onboarded,\n    settings: firestore.data.settings,\n    uid: auth.uid\n  };\n};\n\nexport default compose(firebaseConnect(), firestoreConnect(function () {\n  return [{\n    collection: 'settings',\n    doc: 'config',\n    storeAs: 'settings'\n  }];\n}), withRouter, connect(mapStateToProps))(PageApp);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageApp.js"],"names":["React","Component","connect","compose","withRouter","firestoreConnect","firebaseConnect","isLoaded","Route","Sidebar","Loading","NavigationBar","PageAbout","PageFeedback","PageHome","PageOnboard","PageProfile","PageResults","PageSettings","PageSurvey","PageTeam","PageArchives","PageApp","props","email","onboarded","settings","uid","margin","suffix","split","college","email_to_college","status","dorms","college_to_dorm","name","names","mapStateToProps","state","_props","firebase","firestore","auth","profile","data","collection","doc","storeAs"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,gBAAT,EAA2BC,eAA3B,QAAkD,sBAAlD;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AAEA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,YAAP,MAAyB,oBAAzB,C,CACA;;IAEMC,O;;;;;;;;;;;;;6BACK;AAAA,wBACqC,KAAKC,KAD1C;AAAA,UACCC,KADD,eACCA,KADD;AAAA,UACQC,SADR,eACQA,SADR;AAAA,UACmBC,QADnB,eACmBA,QADnB;AAAA,UAC6BC,GAD7B,eAC6BA,GAD7B;;AAGP,UAAI,CAACpB,QAAQ,CAACmB,QAAD,CAAb,EAAyB;AACvB,eACE;AAAK,UAAA,KAAK,EAAE;AAAEE,YAAAA,MAAM,EAAE;AAAV,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,OAAD;AAAS,UAAA,IAAI,EAAE,GAAf;AAAoB,UAAA,IAAI,EAAC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAKD;;AAED,UAAMC,MAAM,GAAGL,KAAK,CAACM,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAf;AACA,UAAMC,OAAO,GAAGL,QAAQ,CAACM,gBAAT,CAA0BH,MAA1B,CAAhB;AACA,UAAMI,MAAM,GAAGP,QAAQ,CAACO,MAAT,IAAmB,SAAlC;AACA,UAAMC,KAAK,GAAGR,QAAQ,CAACS,eAAT,CAAyBJ,OAAzB,KAAqC,CAAC,IAAD,CAAnD;AACA,UAAMK,IAAI,GAAGV,QAAQ,CAACW,KAAT,CAAeN,OAAf,KAA2BA,OAAxC;;AAEA,UAAI,CAACN,SAAL,EAAgB;AACd,eAAO,oBAAC,WAAD;AAAa,UAAA,QAAQ,EAAEC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAED,aACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,WAAW,EAAE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,KAAK,MADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,SAAS,EAAE;AAAA,iBAAM,oBAAC,QAAD;AAAU,YAAA,IAAI,EAAEU,IAAhB;AAAsB,YAAA,MAAM,EAAEH,MAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAME,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,aADP;AAEE,QAAA,MAAM,EAAE;AAAA,iBACN,oBAAC,UAAD;AAAY,YAAA,MAAM,EAAEA,MAApB;AAA4B,YAAA,SAAS,EAAEF,OAAvC;AAAgD,YAAA,GAAG,EAAEJ,GAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADM;AAAA,SAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAYE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,cADP;AAEE,QAAA,MAAM,EAAE;AAAA,iBACN,oBAAC,WAAD;AACE,YAAA,gBAAgB,EAAED,QAAQ,CAACM,gBAD7B;AAEE,YAAA,MAAM,EAAEC,MAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADM;AAAA,SAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,EAqBE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,cADP;AAEE,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,WAAD;AAAa,YAAA,KAAK,EAAEC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBF,EAyBE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,WADP;AAEE,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,QAAD;AAAU,YAAA,OAAO,EAAEH,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzBF,EA6BE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,eAAZ;AAA4B,QAAA,SAAS,EAAEb,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA7BF,EA8BE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,eAAZ;AAA4B,QAAA,SAAS,EAAEL,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9BF,EA+BE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,SAAS,EAAED,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/BF,EAgCE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,eAAZ;AAA4B,QAAA,SAAS,EAAES,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhCF,CADF,CADF;AAsCD;;;;EA5DmBpB,S;;AA+DtB,IAAMqC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,MAAR,EAAmB;AAAA,MACjCC,QADiC,GACTF,KADS,CACjCE,QADiC;AAAA,MACvBC,SADuB,GACTH,KADS,CACvBG,SADuB;AAAA,MAEjCC,IAFiC,GAEfF,QAFe,CAEjCE,IAFiC;AAAA,MAE3BC,OAF2B,GAEfH,QAFe,CAE3BG,OAF2B;AAIzC,SAAO;AACLpB,IAAAA,KAAK,EAAEmB,IAAI,CAACnB,KADP;AAELC,IAAAA,SAAS,EAAEmB,OAAO,CAACnB,SAFd;AAGLC,IAAAA,QAAQ,EAAEgB,SAAS,CAACG,IAAV,CAAenB,QAHpB;AAILC,IAAAA,GAAG,EAAEgB,IAAI,CAAChB;AAJL,GAAP;AAMD,CAVD;;AAYA,eAAexB,OAAO,CACpBG,eAAe,EADK,EAEpBD,gBAAgB,CAAC;AAAA,SAAM,CACrB;AACEyC,IAAAA,UAAU,EAAE,UADd;AAEEC,IAAAA,GAAG,EAAE,QAFP;AAGEC,IAAAA,OAAO,EAAE;AAHX,GADqB,CAAN;AAAA,CAAD,CAFI,EASpB5C,UAToB,EAUpBF,OAAO,CAACoC,eAAD,CAVa,CAAP,CAWbhB,OAXa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\nimport { firestoreConnect, firebaseConnect } from 'react-redux-firebase';\nimport { isLoaded } from 'react-redux-firebase';\nimport { Route } from 'react-router-dom';\n\nimport Sidebar from 'components/Sidebar';\nimport Loading from 'components/Loading';\n\nimport NavigationBar from 'pages/NavigationBar';\nimport PageAbout from 'pages/PageAbout';\nimport PageFeedback from 'pages/PageFeedback';\nimport PageHome from 'pages/PageHome';\nimport PageOnboard from 'pages/PageOnboard';\nimport PageProfile from 'pages/PageProfile';\nimport PageResults from 'pages/PageResults';\nimport PageSettings from 'pages/PageSettings';\nimport PageSurvey from 'pages/PageSurvey';\nimport PageTeam from 'pages/PageTeam';\nimport PageArchives from 'pages/PageArchives';\n// import PageFAQ from 'pages/PageApp/routes/PageFAQ';\n\nclass PageApp extends Component {\n  render() {\n    const { email, onboarded, settings, uid } = this.props;\n\n    if (!isLoaded(settings)) {\n      return (\n        <div style={{ margin: '10% auto' }}>\n          <Loading size={200} type=\"spin\" />\n        </div>\n      );\n    }\n\n    const suffix = email.split('@')[1];\n    const college = settings.email_to_college[suffix];\n    const status = settings.status || 'offline';\n    const dorms = settings.college_to_dorm[college] || [null];\n    const name = settings.names[college] || college;\n\n    if (!onboarded) {\n      return <PageOnboard settings={settings} />;\n    }\n\n    return (\n      <div className=\"PageApp\">\n        <Sidebar leftSidebar={<NavigationBar />}>\n          <Route\n            exact\n            path=\"/app\"\n            component={() => <PageHome name={name} status={status} />}\n          />\n          <Route\n            path=\"/app/survey\"\n            render={() => (\n              <PageSurvey status={status} surveyKey={college} uid={uid} />\n            )}\n          />\n          <Route\n            path=\"/app/results\"\n            render={() => (\n              <PageResults\n                email_to_college={settings.email_to_college}\n                status={status}\n              />\n            )}\n          />\n          <Route\n            path=\"/app/profile\"\n            render={() => <PageProfile dorms={dorms} />}\n          />\n          <Route\n            path=\"/app/team\"\n            render={() => <PageTeam college={college} />}\n          />\n          <Route path=\"/app/settings\" component={PageSettings} />\n          <Route path=\"/app/feedback\" component={PageFeedback} />\n          <Route path=\"/app/faq\" component={PageAbout} />\n          <Route path=\"/app/archives\" component={PageArchives} />\n        </Sidebar>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, _props) => {\n  const { firebase, firestore } = state;\n  const { auth, profile } = firebase;\n\n  return {\n    email: auth.email,\n    onboarded: profile.onboarded,\n    settings: firestore.data.settings,\n    uid: auth.uid,\n  };\n};\n\nexport default compose(\n  firebaseConnect(),\n  firestoreConnect(() => [\n    {\n      collection: 'settings',\n      doc: 'config',\n      storeAs: 'settings',\n    },\n  ]),\n  withRouter,\n  connect(mapStateToProps),\n)(PageApp);\n"]},"metadata":{},"sourceType":"module"}