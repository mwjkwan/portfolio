{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/RestaurantPortal/ConfirmationCodes.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  font-weight: bold;\\n\\n  .conf-container {\\n    margin: 20px auto;\\n  }\\n\\n  p {\\n    margin-bottom: 1em;\\n  }\\n\\n  button {\\n    max-width: 300px;\\n    margin-right: 1em;\\n    margin-bottom: 1em;\\n    padding: 0.1em;\\n  }\\n\\n  input {\\n    max-width: 359px;\\n    height: 40px;\\n    border: none;\\n    background: #f4f2f2;\\n    font-family: 'Apercu-light';\\n    display: flex;\\n    align-items: center;\\n    letter-spacing: 0.05em;\\n\\n    color: #545353;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/** @jsx jsx **/\nimport { Component } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport Firebase from 'firebase';\nimport Header from 'components/Header';\nimport Loading from 'components/Loading';\nvar checkInStyle = css(_templateObject());\nvar testDateId = {\n  datesAvailable: 49,\n  day: \"12/28\",\n  place: \"Jefe's\"\n};\n\nvar ConfirmationCodes =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ConfirmationCodes, _Component);\n\n  function ConfirmationCodes(props) {\n    var _this;\n\n    _classCallCheck(this, ConfirmationCodes);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConfirmationCodes).call(this, props));\n\n    _this.getCodesByDay = function (day) {\n      var codeSnapshot = _this.props.firebase.ref('codes').orderByChild('date').equalTo(day).once('value');\n\n      codeSnapshot.on('value', function (snapshot) {\n        var codes = codeSnapshot.val();\n\n        _this.setState({\n          loading: false,\n          state: codeSnapshot.val()\n        });\n\n        console.log(\"Data loaded\");\n      });\n    };\n\n    _this.state = {\n      code: '',\n      loading: true,\n      display: false,\n      errorMessage: '',\n      valid: null\n    };\n    return _this;\n  }\n\n  _createClass(ConfirmationCodes, [{\n    key: \"renderConfirmationCodes\",\n    value: function renderConfirmationCodes() {\n      var dateSchedule = this.props.confirmationCodes;\n      return jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Date schedule:\"), jsx(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Date\")), jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Claimed\")), jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Allotted\"))), dateSchedule.map(function (date) {\n        return jsx(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, jsx(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, date.date), jsx(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, date.claimed), jsx(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, date.allotted));\n      }), jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Total\"), jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, dateSchedule.reduce(function (total, num) {\n        return total + num.claimed;\n      }, 0)), jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, dateSchedule.reduce(function (total, num) {\n        return total + num.allotted;\n      }, 0)))));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getCodesByDay();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dateId = this.props.dateId || testDateId;\n      var day = dateId.day,\n          place = dateId.place;\n      var codes = this.getCodes(day);\n      return jsx(\"div\", {\n        className: \"RestaurantHome\",\n        css: checkInStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, jsx(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, day, \" \", place.toUpperCase(), \" CONFIRMATION CODES\"), jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Confirmation Codes\"), jsx(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Code\"))), codes.map(function (code) {\n        return jsx(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, jsx(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, code.getKey()));\n      }))));\n    }\n  }]);\n\n  return ConfirmationCodes;\n}(Component);\n\nexport { ConfirmationCodes as default };","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/RestaurantPortal/ConfirmationCodes.js"],"names":["Component","jsx","css","Firebase","Header","Loading","checkInStyle","testDateId","datesAvailable","day","place","ConfirmationCodes","props","getCodesByDay","codeSnapshot","firebase","ref","orderByChild","equalTo","once","on","snapshot","codes","val","setState","loading","state","console","log","code","display","errorMessage","valid","dateSchedule","confirmationCodes","map","date","claimed","allotted","reduce","total","num","dateId","getCodes","toUpperCase","getKey"],"mappings":"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","sourcesContent":["/** @jsx jsx **/\n\nimport { Component } from 'react';\nimport { jsx, css } from '@emotion/core';\nimport Firebase from 'firebase';\n\nimport Header from 'components/Header';\nimport Loading from 'components/Loading';\n\nconst checkInStyle = css`\n  font-weight: bold;\n\n  .conf-container {\n    margin: 20px auto;\n  }\n\n  p {\n    margin-bottom: 1em;\n  }\n\n  button {\n    max-width: 300px;\n    margin-right: 1em;\n    margin-bottom: 1em;\n    padding: 0.1em;\n  }\n\n  input {\n    max-width: 359px;\n    height: 40px;\n    border: none;\n    background: #f4f2f2;\n    font-family: 'Apercu-light';\n    display: flex;\n    align-items: center;\n    letter-spacing: 0.05em;\n\n    color: #545353;\n  }\n`;\n\nconst testDateId = {\n  datesAvailable: 49,\n  day: \"12/28\",\n  place: \"Jefe's\",\n};\n\nexport default class ConfirmationCodes extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      code: '',\n      loading: true,\n      display: false,\n      errorMessage: '',\n      valid: null,\n    };\n  }\n\n  renderConfirmationCodes() {\n    const dateSchedule = this.props.confirmationCodes;\n    return (\n      <div>\n        <b>Date schedule:</b>\n        <table>\n          <tr>\n            <th><b>Date</b></th>\n            <th><b>Claimed</b></th>\n            <th><b>Allotted</b></th>\n          </tr>\n          {dateSchedule.map(date => \n            <tr>\n              <td>{date.date}</td>\n              <td>{date.claimed}</td>\n              <td>{date.allotted}</td>\n            </tr>\n          )}\n          <tr>\n              <td>Total</td>\n              <td>{dateSchedule.reduce((total, num) => total + num.claimed, 0)}</td>\n              <td>{dateSchedule.reduce((total, num) => total + num.allotted, 0)}</td>\n          </tr>\n        </table>\n      </div>\n    );\n  }\n\n  getCodesByDay = day => {\n    let codeSnapshot = this.props.firebase\n      .ref('codes')\n      .orderByChild('date')\n      .equalTo(day)\n      .once('value');\n    codeSnapshot.on('value', snapshot => {\n      const codes = codeSnapshot.val()\n      this.setState({ loading: false, state: codeSnapshot.val()});\n      console.log(\"Data loaded\")\n    })\n  }\n\n  componentDidMount() {\n    this.getCodesByDay();\n  }\n\n  render() {\n    const dateId = this.props.dateId || testDateId;\n    const { day, place } = dateId;\n    const codes = this.getCodes(day);\n    return (\n      <div className=\"RestaurantHome\" css={checkInStyle}>\n        <Header>{day} {place.toUpperCase()} CONFIRMATION CODES</Header>\n        <div>\n        <b>Confirmation Codes</b>\n        <table>\n          <tr>\n            <th><b>Code</b></th>\n          </tr>\n          {codes.map(code => \n            <tr>\n              <td>{code.getKey()}</td>\n            </tr>\n          )}\n        </table>\n      </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}