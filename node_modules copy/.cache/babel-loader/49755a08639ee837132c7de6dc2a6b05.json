{"ast":null,"code":"import _classCallCheck from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melissa/datamatch/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/melissa/datamatch/src/pages/PageLogin.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport AuthWrapper from '../components/AuthWrapper';\nimport GoogleButton from '../components/GoogleButton';\nimport Loading from '../components/Loading';\n\nvar PageLogin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PageLogin, _Component);\n\n  function PageLogin(props) {\n    var _this;\n\n    _classCallCheck(this, PageLogin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PageLogin).call(this, props));\n\n    _this.onFormSubmit = function (event) {\n      event.preventDefault();\n      var email = _this.refs.email.value;\n      var password = _this.refs.password.value;\n\n      _this.setState({\n        loading: true\n      });\n\n      _this.props.loginUser({\n        email: email,\n        password: password\n      }).catch(function (error) {\n        _this.setState({\n          message: error.message,\n          loading: false\n        });\n      });\n    };\n\n    _this.loginWithProvider = function (provider) {\n      _this.setState({\n        loading: true\n      });\n\n      _this.props.loginUser({\n        provider: provider\n      }).catch(function (error) {\n        _this.setState({\n          message: error.message,\n          loading: false\n        });\n      });\n    };\n\n    _this.state = {\n      loading: false,\n      message: ''\n    };\n    return _this;\n  }\n\n  _createClass(PageLogin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          isLoggedIn = _this$props.isLoggedIn,\n          history = _this$props.history,\n          redirectURL = _this$props.redirectURL;\n\n      if (isLoggedIn) {\n        history.push(redirectURL);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          emailPlaceholder = _this$props2.emailPlaceholder,\n          portal = _this$props2.portal,\n          registerPath = _this$props2.registerPath,\n          resetPath = _this$props2.resetPath,\n          title = _this$props2.title;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(AuthWrapper, {\n        portal: portal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, title), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        placeholder: emailPlaceholder,\n        ref: \"email\",\n        type: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        placeholder: \"Password\",\n        ref: \"password\",\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), !this.state.loading ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Log In\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), this.state.message && React.createElement(\"div\", {\n        className: \"Warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), this.state.message), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(GoogleButton, {\n        onClick: function onClick() {\n          return _this2.loginWithProvider('google');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })) : React.createElement(Loading, {\n        size: 90,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"AuthLinks\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: registerPath,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Create an account\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          height: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: resetPath,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Forgot password? Reset it here!\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PageLogin;\n}(Component);\n\nPageLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired\n};\nPageLogin.defaultProps = {\n  redirectURL: '/app',\n  registerPath: '/register',\n  resetPath: '/reset'\n};\n\nfunction mapStateToProps(state, props) {\n  return {\n    isLoggedIn: !!state.firebase.auth.uid,\n    loginUser: props.firebase.login\n  };\n}\n\nexport default compose(firebaseConnect(), withRouter, connect(mapStateToProps))(PageLogin);","map":{"version":3,"sources":["/Users/melissa/datamatch/src/pages/PageLogin.js"],"names":["React","Component","connect","compose","firebaseConnect","withRouter","Link","PropTypes","AuthWrapper","GoogleButton","Loading","PageLogin","props","onFormSubmit","event","preventDefault","email","refs","value","password","setState","loading","loginUser","catch","error","message","loginWithProvider","provider","state","isLoggedIn","history","redirectURL","push","emailPlaceholder","portal","registerPath","resetPath","title","height","propTypes","func","isRequired","string","defaultProps","mapStateToProps","firebase","auth","uid","login"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firebaseConnect } from 'react-redux-firebase';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport AuthWrapper from '../components/AuthWrapper';\nimport GoogleButton from '../components/GoogleButton';\nimport Loading from '../components/Loading';\n\nclass PageLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loading: false, message: '' };\n  }\n\n  onFormSubmit = event => {\n    event.preventDefault();\n\n    const email = this.refs.email.value;\n    const password = this.refs.password.value;\n\n    this.setState({ loading: true });\n\n    this.props.loginUser({ email, password }).catch(error => {\n      this.setState({ message: error.message, loading: false });\n    });\n  };\n\n  loginWithProvider = provider => {\n    this.setState({ loading: true });\n\n    this.props.loginUser({ provider }).catch(error => {\n      this.setState({ message: error.message, loading: false });\n    });\n  };\n\n  componentDidMount() {\n    const { isLoggedIn, history, redirectURL } = this.props;\n    if (isLoggedIn) {\n      history.push(redirectURL);\n    }\n  }\n\n  render() {\n    const {\n      emailPlaceholder,\n      portal,\n      registerPath,\n      resetPath,\n      title,\n    } = this.props;\n\n    return (\n      <div>\n        <AuthWrapper portal={portal}>\n          <form onSubmit={this.onFormSubmit}>\n            <h1>{title}</h1>\n            <br />\n            <input placeholder={emailPlaceholder} ref=\"email\" type=\"email\" />\n            <br />\n            <br />\n            <input placeholder=\"Password\" ref=\"password\" type=\"password\" />\n            <br />\n            <br />\n            {!this.state.loading ? (\n              <div>\n                <button type=\"submit\">Log In</button>\n                <br />\n                {this.state.message && (\n                  <div className=\"Warning\">\n                    <br />\n                    {this.state.message}\n                  </div>\n                )}\n                <hr />\n                <GoogleButton\n                  onClick={() => this.loginWithProvider('google')}\n                />\n              </div>\n            ) : (\n              <Loading size={90} />\n            )}\n          </form>\n        </AuthWrapper>\n        <div className=\"AuthLinks\">\n          <Link to={registerPath}>Create an account</Link>\n          <br />\n          <div style={{ height: 10 }} />\n          <Link to={resetPath}>Forgot password? Reset it here!</Link>\n          <br />\n        </div>\n      </div>\n    );\n  }\n}\n\nPageLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nPageLogin.defaultProps = {\n  redirectURL: '/app',\n  registerPath: '/register',\n  resetPath: '/reset',\n};\n\nfunction mapStateToProps(state, props) {\n  return {\n    isLoggedIn: !!state.firebase.auth.uid,\n    loginUser: props.firebase.login,\n  };\n}\n\nexport default compose(\n  firebaseConnect(),\n  withRouter,\n  connect(mapStateToProps),\n)(PageLogin);\n"]},"metadata":{},"sourceType":"module"}